"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6586],{8505:(v,h,s)=>{s.d(h,{Z:()=>c});var d=s(467),m=s(177),_=s(4341),l=s(305),r=s(7604),e=s(3953),g=s(6761),a=s(5217);let c=(()=>{var u;class t{constructor(o,n,f){this.router=o,this.auth=n,this.storageService=f}ngOnInit(){setTimeout(()=>{this.getUser()},1e3)}getUser(){var o=this;return(0,d.A)(function*(){const n=yield o.storageService.getValue("usuario");o.userRole=n.role})()}rToControlInformacion(){this.router.navigate(["/control-informacion"],{replaceUrl:!0})}rToAdministracionCuentas(){this.router.navigate(["/administracion-cuentas"],{replaceUrl:!0})}rToReportes(){this.router.navigate(["/reportes"],{replaceUrl:!0})}rToHistoriaReportes(){this.router.navigate(["/historia-reportes"],{replaceUrl:!0})}rToPanelControl(){this.router.navigate(["/panel-control"],{replaceUrl:!0})}rToMiPerfil(){this.router.navigate(["/mi-perfil"],{replaceUrl:!0})}rToVehEqui(){this.router.navigate(["/vehi-equi"],{replaceUrl:!0})}rToCertificados(){this.router.navigate(["/certificados"],{replaceUrl:!0})}logout(){this.auth.logout(),this.router.navigate(["/login"],{replaceUrl:!0})}}return(u=t).\u0275fac=function(o){return new(o||u)(e.rXU(l.Ix),e.rXU(g.u),e.rXU(a.n))},u.\u0275cmp=e.VBU({type:u,selectors:[["app-menu"]],inputs:{titulo:"titulo"},standalone:!0,features:[e.aNF],decls:42,vars:1,consts:[["contentId","main-content","mode","ios"],[2,"--background","#ffff"],[1,"text-center","pt-5",2,"background-color","#ffff"],["src","/assets/logo_bg1.png","alt","","srcset","",2,"max-width","50%","background-color","#ffff"],[1,"mt-3",2,"color","white"],[2,"background","#ffff"],["lines","none","slot","header","color","light","button","",3,"click"],["lines","none","slot","header","color","light","button","",1,"pt-1",3,"click"],[2,"background-color","#ffff"],[1,"d-grid","gap-2"],["type","button","id","cerrar-sesion",1,"btn","btn-danger",3,"click"],["id","main-content"],[2,"--background","#211F20","color","white"],["slot","start"],["autoHide","false"],[2,"text-align","center"],["slot","end"],["size","large",3,"click"],["slot","icon-only","name","person-circle-outline"]],template:function(o,n){1&o&&(e.j41(0,"div")(1,"ion-menu",0)(2,"ion-content",1)(3,"div",2),e.nrm(4,"img",3),e.j41(5,"h5",4)(6,"b"),e.EFF(7,"Administrador"),e.k0s()()(),e.j41(8,"ion-list",5)(9,"ion-item",6),e.bIt("click",function(){return n.rToPanelControl()}),e.j41(10,"ion-label"),e.EFF(11," Panel de Control"),e.k0s()(),e.j41(12,"ion-item",7),e.bIt("click",function(){return n.rToReportes()}),e.j41(13,"ion-label"),e.EFF(14,"Reportes"),e.k0s()(),e.j41(15,"ion-item",7),e.bIt("click",function(){return n.rToCertificados()}),e.j41(16,"ion-label"),e.EFF(17,"Certificados"),e.k0s()(),e.j41(18,"ion-item",7),e.bIt("click",function(){return n.rToControlInformacion()}),e.j41(19,"ion-label"),e.EFF(20,"Control de Informaci\xf3n"),e.k0s()(),e.j41(21,"ion-item",7),e.bIt("click",function(){return n.rToVehEqui()}),e.j41(22,"ion-label"),e.EFF(23,"Vehiculos y equipos"),e.k0s()(),e.j41(24,"ion-item",7),e.bIt("click",function(){return n.rToAdministracionCuentas()}),e.j41(25,"ion-label"),e.EFF(26,"Administraci\xf3n de personal"),e.k0s()()()(),e.j41(27,"ion-footer",8)(28,"div",9)(29,"button",10),e.bIt("click",function(){return n.logout()}),e.EFF(30,"Cerrar Sesi\xf3n"),e.k0s()()()(),e.j41(31,"ion-header",11)(32,"ion-toolbar",12)(33,"ion-buttons",13),e.nrm(34,"ion-menu-button",14),e.k0s(),e.j41(35,"ion-text",15)(36,"h4")(37,"b"),e.EFF(38),e.k0s()()(),e.j41(39,"ion-buttons",16)(40,"ion-button",17),e.bIt("click",function(){return n.rToMiPerfil()}),e.nrm(41,"ion-icon",18),e.k0s()()()()()),2&o&&(e.R7$(38),e.JRh(n.titulo))},dependencies:[r.bv,r.Jm,r.QW,r.W9,r.M0,r.eU,r.iq,r.uz,r.he,r.nf,r.oS,r.MC,r.IO,r.ai,m.MD,_.YN,_.X1,l.iI],styles:['@charset "UTF-8";ion-menu[_ngcontent-%COMP%]::part(container){border-radius:0 20px 20px 0;--background: #757374}ion-item[_ngcontent-%COMP%]{--background-color: #c0c0c0;--color: #c0c0c0;--border-color: #c0c0c0;--border-width: 2px;--detail-icon-color: white;--detail-icon-opacity: 1;--detail-icon-font-size: 20px}.cerrar-sesion-toolbar[_ngcontent-%COMP%]{--background: #d6282e;transition:background-color .4s ease;cursor:pointer}.cerrar-sesion-toolbar[_ngcontent-%COMP%]:hover{--background: rgba(151, 43, 43, .692)}#cerrar-sesion[_ngcontent-%COMP%]{color:#fff;transition:color .3s ease}']}),t})()},6586:(v,h,s)=>{s.r(h),s.d(h,{CertificadosPageModule:()=>u});var d=s(177),m=s(4341),_=s(7604),l=s(305),r=s(3953),e=s(8505);const a=[{path:"",component:(()=>{var t;class i{constructor(){}ngOnInit(){}}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.VBU({type:t,selectors:[["app-certificados"]],decls:25,vars:3,consts:[["titulo","Certificados / Hologramas"],[3,"fullscreen"],[1,"row"],[1,"col-md-6"],[1,"custom-card-height-usuarios",2,"border-radius","15px"],[2,"background-color","#211F20"],[1,"text-center",2,"color","white"],["placeholder","Buscar dictamen","inputmode","decimal","type","decimal","showCancelButton","always",3,"debounce"],["placeholder","Buscar usuario","inputmode","decimal","type","decimal","showCancelButton","always",3,"debounce"],["slot","fixed","vertical","bottom","horizontal","end","color","primary"],["color","primary"],["name","chevron-up-circle"],["side","top"],["name","add-circle-outline"]],template:function(n,f){1&n&&(r.nrm(0,"app-menu",0),r.j41(1,"ion-content",1)(2,"div",2)(3,"div",3)(4,"ion-card",4)(5,"ion-card-header",5)(6,"ion-card-title",6),r.EFF(7," Hologramas usados por certificado "),r.k0s(),r.j41(8,"ion-card-subtitle"),r.nrm(9,"ion-searchbar",7),r.k0s()(),r.nrm(10,"ion-card-content"),r.k0s()(),r.j41(11,"div",3)(12,"ion-card",4)(13,"ion-card-header",5)(14,"ion-card-title",6),r.EFF(15," Asigrnaci\xf3n de hologramas a los usuarios "),r.k0s(),r.j41(16,"ion-card-subtitle"),r.nrm(17,"ion-searchbar",8),r.k0s()(),r.nrm(18,"ion-card-content"),r.k0s()()(),r.j41(19,"ion-fab",9)(20,"ion-fab-button",10),r.nrm(21,"ion-icon",11),r.k0s(),r.j41(22,"ion-fab-list",12)(23,"ion-fab-button",10),r.nrm(24,"ion-icon",13),r.k0s()()()()),2&n&&(r.R7$(),r.Y8G("fullscreen",!0),r.R7$(8),r.Y8G("debounce",250),r.R7$(8),r.Y8G("debounce",250))},dependencies:[_.b_,_.I9,_.ME,_.HW,_.tN,_.W9,_.Q8,_.YW,_.OL,_.iq,_.S1,_.Gw,e.Z]}),i})()}];let c=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.$C({type:t}),t.\u0275inj=r.G2t({imports:[l.iI.forChild(a),l.iI]}),i})(),u=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.$C({type:t}),t.\u0275inj=r.G2t({imports:[d.MD,m.YN,_.bv,c,e.Z]}),i})()},6761:(v,h,s)=>{s.d(h,{u:()=>g});var d=s(467),m=s(6335),_=s(6114),l=s(9967),r=s(3953),e=s(1626);let g=(()=>{var a;class c{constructor(t,i,o){this.auth=t,this.firestore=i,this.http=o}register({usuario:t,email:i,password:o,role:n,autos:f,herramientas:p,documentos:C,reportes:P}){var M=this;return(0,d.A)(function*(){try{const E=yield(0,m.eJ)(M.auth,i,o),y=(0,l.H9)(M.firestore,`users/${E.user.uid}`);return yield(0,l.BN)(y,{usuario:t,email:i,role:n,autos:f,herramientas:p,documentos:C,reportes:P}),E}catch{return null}})()}login({email:t,password:i}){var o=this;return(0,d.A)(function*(){try{return yield(0,m.x9)(o.auth,t,i)}catch{return null}})()}getUsers(){const t=(0,l.rJ)(this.firestore,"users");return(0,l.xs)(t,{idField:"id"})}getUser(){var t=this;return(0,d.A)(function*(){const i=yield t.auth.currentUser,o=(0,l.H9)(t.firestore,`users/${i.uid}`);return(0,l.Bg)(o,{idField:"id"})})()}getUserRole(){var t=this;return(0,d.A)(function*(){const i=yield t.auth.currentUser;if(i){const o=(0,l.H9)(t.firestore,`users/${i.uid}`),n=(0,l.Bg)(o,{idField:"id"});return(null==n?void 0:n.role)||"user"}return"guest"})()}logout(){return(0,m.CI)(this.auth)}deleteUser(t){var i=this;return(0,d.A)(function*(){try{const o=i.auth.currentUser;if(o){const n=_.IX.credential(o.email,t);yield(0,m.kZ)(o,n),yield(0,m.hG)(o),console.log("Usuario eliminado con \xe9xito")}else console.error("No hay usuario autenticado")}catch(o){console.error("Error al eliminar el usuario:",o)}})()}updateUser(t){var i=this;return(0,d.A)(function*(){try{const o=(0,l.H9)(i.firestore,`users/${t.id}`);return(0,l.mZ)(o,{usuario:t.usuario,email:t.email,role:t.role,autos:t.autos,herramientas:t.herramientas})}catch(o){return console.error("Error al actualizar la informaci\xf3n del usuario:",o),{success:!1,error:o}}})()}updateUserFields(t,i,o){var n=this;return(0,d.A)(function*(){const f=(0,l.H9)(n.firestore,"users",t),p={usuario:i,role:o};try{yield(0,l.mZ)(f,p)}catch(C){console.error("Error al actualizar usuario y role: ",C)}})()}}return(a=c).\u0275fac=function(t){return new(t||a)(r.KVO(m.Nj),r.KVO(l._7),r.KVO(e.Qq))},a.\u0275prov=r.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),c})()},5217:(v,h,s)=>{s.d(h,{n:()=>l});var d=s(467),m=s(3953),_=s(369);let l=(()=>{var r;class e{constructor(a){this.storage=a,this._storage=null,this.init()}init(){var a=this;return(0,d.A)(function*(){const c=yield a.storage.create();a._storage=c})()}addValue(a,c){var u=this;return(0,d.A)(function*(){var t;yield null===(t=u._storage)||void 0===t?void 0:t.set(a,c)})()}getValue(a){var c=this;return(0,d.A)(function*(){var u;return yield null===(u=c._storage)||void 0===u?void 0:u.get(a)})()}updateValue(a,c){var u=this;return(0,d.A)(function*(){var t,i;(yield null===(t=u._storage)||void 0===t?void 0:t.get(a))&&(yield null===(i=u._storage)||void 0===i?void 0:i.set(a,c))})()}removeValue(a){var c=this;return(0,d.A)(function*(){var u;yield null===(u=c._storage)||void 0===u?void 0:u.remove(a)})()}getAllValues(){var a=this;return(0,d.A)(function*(){var c;return yield null===(c=a._storage)||void 0===c?void 0:c.keys()})()}clearTempValues(){var a=this;return(0,d.A)(function*(){var c;yield null===(c=a._storage)||void 0===c?void 0:c.clear()})()}}return(r=e).\u0275fac=function(a){return new(a||r)(m.KVO(_.w))},r.\u0275prov=m.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),e})()}}]);