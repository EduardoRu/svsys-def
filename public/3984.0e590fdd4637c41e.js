"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3984],{3984:(X,y,C)=>{C.r(y),C.d(y,{ReportesPageModule:()=>Ce});var v=C(177),r=C(4341),l=C(7604),x=C(305),e=C(3953),G=C(8505);let E=(()=>{var a;class u{constructor(){}ngOnInit(){}}return(a=u).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.VBU({type:a,selectors:[["app-generar-reporte-celu"]],standalone:!0,features:[e.aNF],decls:32,vars:1,consts:[[3,"multiple"],["value","iCliente"],["slot","header","color","light"],["slot","content",1,"ion-padding"],["value","Basculas"],["value","Inspeccion"],["value","Resumen"],["value","Firma"]],template:function(t,n){1&t&&(e.j41(0,"ion-card")(1,"ion-accordion-group",0)(2,"ion-accordion",1)(3,"ion-item",2)(4,"ion-label"),e.EFF(5,"Informaci\xf3n del cliente"),e.k0s()(),e.j41(6,"div",3),e.EFF(7,"First Content"),e.k0s()(),e.j41(8,"ion-accordion",4)(9,"ion-item",2)(10,"ion-label"),e.EFF(11,"Basculas"),e.k0s()(),e.j41(12,"div",3),e.EFF(13,"Second Content"),e.k0s()(),e.j41(14,"ion-accordion",5)(15,"ion-item",2)(16,"ion-label"),e.EFF(17,"Inspecci\xf3n"),e.k0s()(),e.j41(18,"div",3),e.EFF(19,"Third Content"),e.k0s()(),e.j41(20,"ion-accordion",6)(21,"ion-item",2)(22,"ion-label"),e.EFF(23,"Resumen"),e.k0s()(),e.j41(24,"div",3),e.EFF(25,"Third Content"),e.k0s()(),e.j41(26,"ion-accordion",7)(27,"ion-item",2)(28,"ion-label"),e.EFF(29,"Firma"),e.k0s()(),e.j41(30,"div",3),e.EFF(31,"Third Content"),e.k0s()()()()),2&t&&(e.R7$(),e.Y8G("multiple",!0))},dependencies:[l.bv,l.xk,l.YH,l.b_,l.uz,l.he,v.MD]}),u})();var h=C(467),S=C(5217);let j=(()=>{var a;class u{constructor(t,n,o,s,c){this.fb=t,this.storage=n,this.modalController=o,this.alertController=s,this.loadingController=c}ngOnInit(){this.encuesta=this.fb.group({tiempo_respuesta:["",r.k0.required],calidad:["",r.k0.required],atencion:["",r.k0.required],mala_conducta_personal:["",r.k0.required],observaciones:[""],resultado:[""]}),this.getInformacion()}getInformacion(){var t=this;return(0,h.A)(function*(){let n=yield t.storage.getValue("encuesta_satisfaccion");n&&t.encuesta.patchValue(n)})()}presentAlert(t){var n=this;return(0,h.A)(function*(){yield(yield n.alertController.create({message:t})).present()})()}guardarEncuesta(){var t=this;return(0,h.A)(function*(){const n=yield t.loadingController.create({message:"Guardando encuensta...."});if(n.present(),t.encuesta.valid){console.log(t.encuesta.value);let o=t.encuesta.get("tiempo_respuesta").value,s=t.encuesta.get("calidad").value,c=t.encuesta.get("atencion").value,m=t.encuesta.get("mala_conducta_personal").value,d=(Number(o)+Number(s)+Number(c)+Number(m))/4;d?t.encuesta.get("resultado").setValue(d):t.encuesta.get("resultado").setValue(0),yield t.storage.addValue("encuesta_satisfaccion",t.encuesta.value),n.dismiss(),t.presentAlert("Encuesta guardada correctamente"),t.modalController.dismiss()}else t.presentAlert("Favor de completar todos los campos"),n.dismiss()})()}cancel(){var t=this;return(0,h.A)(function*(){t.modalController.dismiss(null,"cancel")})()}}return(a=u).\u0275fac=function(t){return new(t||a)(e.rXU(r.ok),e.rXU(S.n),e.rXU(l.W3),e.rXU(l.hG),e.rXU(l.Xi))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-encuesta-satifaccion"]],standalone:!0,features:[e.aNF],decls:131,vars:2,consts:[[2,"--background","#757374","color","white"],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],[1,"text-center"],[1,"table-responsive","m-3"],[3,"ngSubmit","formGroup"],[1,"table","table-striped","table-hover"],["type","radio","name","tiempo_respuesta","id","radioRespuesta1","value","10","aria-label","...","formControlName","tiempo_respuesta",1,"form-check-input"],["type","radio","name","tiempo_respuesta","id","radioRespuesta2","value","8","aria-label","...","formControlName","tiempo_respuesta",1,"form-check-input"],["type","radio","name","tiempo_respuesta","id","radioRespuesta3","value","6","aria-label","...","formControlName","tiempo_respuesta",1,"form-check-input"],["type","radio","name","tiempo_respuesta","id","radioRespuesta4","value","4","aria-label","...","formControlName","tiempo_respuesta",1,"form-check-input"],["type","radio","name","tiempo_respuesta","id","radioRespuesta5","value","2","aria-label","...","formControlName","tiempo_respuesta",1,"form-check-input"],["type","radio","name","calidad","id","radioCalidad1","value","10","aria-label","...","formControlName","calidad",1,"form-check-input"],["type","radio","name","calidad","id","radioCalidad2","value","8","aria-label","...","formControlName","calidad",1,"form-check-input"],["type","radio","name","calidad","id","radioCalidad3","value","6","aria-label","...","formControlName","calidad",1,"form-check-input"],["type","radio","name","calidad","id","radioCalidad4","value","4","aria-label","...","formControlName","calidad",1,"form-check-input"],["type","radio","name","calidad","id","radioCalidad5","value","2","aria-label","...","formControlName","calidad",1,"form-check-input"],["type","radio","name","atencion","id","radioatencion1","value","10","aria-label","...","formControlName","atencion",1,"form-check-input"],["type","radio","name","atencion","id","radioatencion2","value","8","aria-label","...","formControlName","atencion",1,"form-check-input"],["type","radio","name","atencion","id","radioatencion3","value","6","aria-label","...","formControlName","atencion",1,"form-check-input"],["type","radio","name","atencion","id","radioatencion4","value","4","aria-label","...","formControlName","atencion",1,"form-check-input"],["type","radio","name","atencion","id","radioatencion5","value","2","aria-label","...","formControlName","atencion",1,"form-check-input"],["type","radio","name","mala_conducta_personal","id","radiomala_conducta_personal1","value","10","aria-label","...","formControlName","mala_conducta_personal",1,"form-check-input"],["type","radio","name","mala_conducta_personal","id","radiomala_conducta_personal2","value","8","aria-label","...","formControlName","mala_conducta_personal",1,"form-check-input"],["type","radio","name","mala_conducta_personal","id","radiomala_conducta_personal3","value","6","aria-label","...","formControlName","mala_conducta_personal",1,"form-check-input"],["type","radio","name","mala_conducta_personal","id","radiomala_conducta_personal4","value","4","aria-label","...","formControlName","mala_conducta_personal",1,"form-check-input"],["type","radio","name","mala_conducta_personal","id","radiomala_conducta_personal5","value","2","aria-label","...","formControlName","mala_conducta_personal",1,"form-check-input"],["label","Observaciones del inspector","labelPlacement","floating","fill","outline","placeholder","Observaciones","formControlName","observaciones",1,"p-2",3,"autoGrow"],[1,"row","text-center","m-3"],[1,"col-md-6","d-grid","gap-2"],["fill","clear",1,"btn","btn-secondary"],["type","submit","fill","clear",1,"btn","btn-success"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3," Encuesta de satifacci\xf3n "),e.k0s(),e.j41(4,"ion-buttons",1)(5,"ion-button",2),e.bIt("click",function(){return n.cancel()}),e.nrm(6,"ion-icon",3),e.k0s()()()(),e.j41(7,"ion-content")(8,"div",4)(9,"b"),e.EFF(10," Estimado cliente: "),e.nrm(11,"br"),e.EFF(12," Con la finalidad de brindarle un mejor servicio y lograr su satisfacci\xf3n solicitamos de su ayuda para proprocionar los siguientes datos: "),e.k0s()(),e.nrm(13,"hr"),e.j41(14,"div",5)(15,"form",6),e.bIt("ngSubmit",function(){return n.guardarEncuesta()}),e.j41(16,"table",7)(17,"thead")(18,"tr")(19,"td"),e.EFF(20," Comentarios "),e.k0s(),e.j41(21,"td",4),e.EFF(22," 10 "),e.nrm(23,"br"),e.EFF(24," Excelente "),e.k0s(),e.j41(25,"td",4),e.EFF(26," 8 "),e.nrm(27,"br"),e.EFF(28," Bueno "),e.k0s(),e.j41(29,"td",4),e.EFF(30," 6 "),e.nrm(31,"br"),e.EFF(32," Regular "),e.k0s(),e.j41(33,"td",4),e.EFF(34," 4 "),e.nrm(35,"br"),e.EFF(36," Malo "),e.k0s(),e.j41(37,"td",4),e.EFF(38," 2 "),e.nrm(39,"br"),e.EFF(40," P\xe9simo "),e.k0s()()(),e.j41(41,"tbody")(42,"tr")(43,"td"),e.EFF(44," 1.- El "),e.j41(45,"b"),e.EFF(46,"Tiempo de respuesta"),e.k0s(),e.EFF(47," desde la solicitud del servicio hasta su realizaci\xf3n fue: "),e.k0s(),e.j41(48,"td",4)(49,"div"),e.nrm(50,"input",8),e.k0s()(),e.j41(51,"td",4)(52,"div"),e.nrm(53,"input",9),e.k0s()(),e.j41(54,"td",4)(55,"div"),e.nrm(56,"input",10),e.k0s()(),e.j41(57,"td",4)(58,"div"),e.nrm(59,"input",11),e.k0s()(),e.j41(60,"td",4)(61,"div"),e.nrm(62,"input",12),e.k0s()()(),e.j41(63,"tr")(64,"td"),e.EFF(65," 2.- "),e.j41(66,"b"),e.EFF(67,"La Calidad"),e.k0s(),e.EFF(68," respecto al servicio proprocionada por nuestro personal fue: "),e.k0s(),e.j41(69,"td",4)(70,"div"),e.nrm(71,"input",13),e.k0s()(),e.j41(72,"td",4)(73,"div"),e.nrm(74,"input",14),e.k0s()(),e.j41(75,"td",4)(76,"div"),e.nrm(77,"input",15),e.k0s()(),e.j41(78,"td",4)(79,"div"),e.nrm(80,"input",16),e.k0s()(),e.j41(81,"td",4)(82,"div"),e.nrm(83,"input",17),e.k0s()()(),e.j41(84,"tr")(85,"td"),e.EFF(86," 3.- "),e.j41(87,"b"),e.EFF(88,"La atenci\xf3n personal hacia usted fue: "),e.k0s()(),e.j41(89,"td",4)(90,"div"),e.nrm(91,"input",18),e.k0s()(),e.j41(92,"td",4)(93,"div"),e.nrm(94,"input",19),e.k0s()(),e.j41(95,"td",4)(96,"div"),e.nrm(97,"input",20),e.k0s()(),e.j41(98,"td",4)(99,"div"),e.nrm(100,"input",21),e.k0s()(),e.j41(101,"td",4)(102,"div"),e.nrm(103,"input",22),e.k0s()()(),e.j41(104,"tr")(105,"td"),e.EFF(106," 4.- Alg\xfan miembro de nuestro personal le atendi\xf3 mal o incorrectamente: "),e.k0s(),e.j41(107,"td",4)(108,"div"),e.nrm(109,"input",23),e.k0s()(),e.j41(110,"td",4)(111,"div"),e.nrm(112,"input",24),e.k0s()(),e.j41(113,"td",4)(114,"div"),e.nrm(115,"input",25),e.k0s()(),e.j41(116,"td",4)(117,"div"),e.nrm(118,"input",26),e.k0s()(),e.j41(119,"td",4)(120,"div"),e.nrm(121,"input",27),e.k0s()()()()(),e.nrm(122,"ion-textarea",28)(123,"hr"),e.j41(124,"div",29)(125,"div",30)(126,"ion-button",31),e.EFF(127," Limpiar Formulario "),e.k0s()(),e.j41(128,"div",30)(129,"ion-button",32),e.EFF(130," Guardar encuesta "),e.k0s()()()()()()),2&t&&(e.R7$(15),e.Y8G("formGroup",n.encuesta),e.R7$(107),e.Y8G("autoGrow",!0))},dependencies:[l.bv,l.Jm,l.QW,l.W9,l.eU,l.iq,l.nc,l.BC,l.ai,l.Gw,v.MD,r.X1,r.qT,r.me,r.Fm,r.BC,r.cb,r.j4,r.JD]}),u})();var D=C(2643),B=C(7235),U=C(8123),q=C(6357);function w(a,u){if(1&a){const i=e.RV6();e.j41(0,"ion-searchbar",10),e.bIt("ionInput",function(n){e.eBV(i);const o=e.XpG();return e.Njj(o.buscarCliente(n))}),e.k0s()}2&a&&e.Y8G("debounce",25)}function Y(a,u){if(1&a){const i=e.RV6();e.j41(0,"ion-searchbar",11),e.bIt("ionInput",function(n){e.eBV(i);const o=e.XpG();return e.Njj(o.buscarCita(n))}),e.k0s()}2&a&&e.Y8G("debounce",25)}function z(a,u){if(1&a&&(e.j41(0,"ion-select-option",21),e.EFF(1),e.k0s()),2&a){const i=u.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(i)}}function J(a,u){if(1&a&&(e.j41(0,"ion-select-option",21),e.EFF(1),e.k0s()),2&a){const i=u.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(i)}}function W(a,u){if(1&a){const i=e.RV6();e.j41(0,"ion-card-content")(1,"ion-grid")(2,"ion-row")(3,"ion-col",12)(4,"h3")(5,"strong"),e.EFF(6,"Informaci\xf3n del Cliente"),e.k0s()(),e.j41(7,"div")(8,"strong"),e.EFF(9,"Raz\xf3n Social:"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"div")(12,"strong"),e.EFF(13,"RFC:"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"div")(16,"strong"),e.EFF(17,"Giro Empresarial:"),e.k0s(),e.EFF(18),e.k0s()(),e.j41(19,"ion-col",12)(20,"h3")(21,"strong"),e.EFF(22,"Ubicaci\xf3n"),e.k0s()(),e.j41(23,"div")(24,"strong"),e.EFF(25,"Domicilio:"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"div")(28,"strong"),e.EFF(29,"N\xfamero:"),e.k0s(),e.EFF(30),e.k0s(),e.j41(31,"div")(32,"strong"),e.EFF(33,"Colonia:"),e.k0s(),e.EFF(34),e.k0s(),e.j41(35,"div")(36,"strong"),e.EFF(37,"Municipio:"),e.k0s(),e.EFF(38),e.k0s(),e.j41(39,"div")(40,"strong"),e.EFF(41,"Estado:"),e.k0s(),e.EFF(42),e.k0s()(),e.j41(43,"ion-col",12)(44,"h3")(45,"strong"),e.EFF(46,"Informaci\xf3n de B\xe1sculas"),e.k0s()(),e.j41(47,"div")(48,"strong"),e.EFF(49,"Marca:"),e.k0s(),e.EFF(50),e.k0s(),e.j41(51,"div")(52,"strong"),e.EFF(53,"Modelo:"),e.k0s(),e.EFF(54),e.k0s(),e.j41(55,"div")(56,"strong"),e.EFF(57,"No. Serie:"),e.k0s(),e.EFF(58),e.k0s(),e.j41(59,"div")(60,"strong"),e.EFF(61,"Alcance:"),e.k0s(),e.EFF(62),e.k0s(),e.j41(63,"div")(64,"strong"),e.EFF(65,"Clase de Exactitud:"),e.k0s(),e.EFF(66),e.k0s(),e.j41(67,"div")(68,"strong"),e.EFF(69,"Aprobaci\xf3n:"),e.k0s(),e.EFF(70),e.k0s()()(),e.j41(71,"ion-row")(72,"ion-col",24)(73,"ion-button",25),e.bIt("click",function(){const n=e.eBV(i).$implicit,o=e.XpG(3);return e.Njj(o.confirm(n))}),e.EFF(74,"Confirmar"),e.k0s()()()()()}if(2&a){const i=u.$implicit;e.R7$(10),e.SpI(" ",i.nombre_razon_social,""),e.R7$(4),e.SpI(" ",i.rfc,""),e.R7$(4),e.SpI(" ",i.giro_empresarial,""),e.R7$(8),e.SpI(" ",i.domicilio,""),e.R7$(4),e.SpI(" ",i.num_dom,""),e.R7$(4),e.SpI(" ",i.colonia,""),e.R7$(4),e.SpI(" ",i.municipio,""),e.R7$(4),e.SpI(" ",i.estado,""),e.R7$(8),e.SpI(" ",i.marca,""),e.R7$(4),e.SpI(" ",i.modelo,""),e.R7$(4),e.SpI(" ",i.serie,""),e.R7$(4),e.SpI(" ",i.alcance,""),e.R7$(4),e.SpI(" ",i.clase_exatitud,""),e.R7$(4),e.Lme(" ",i.num_aprobacion," - ",i.a_aprobacion,"")}}function K(a,u){if(1&a&&(e.j41(0,"ion-accordion")(1,"ion-item",22)(2,"ion-label"),e.EFF(3),e.k0s()(),e.j41(4,"ion-card",23),e.DNE(5,W,75,15,"ion-card-content",18),e.k0s()()),2&a){const i=u.$implicit;e.R7$(3),e.JRh(i.nombre_razon_social),e.R7$(2),e.Y8G("ngForOf",i.registros)}}function Q(a,u){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"ion-card")(2,"ion-card-content")(3,"ion-grid")(4,"ion-row")(5,"ion-col",12)(6,"ion-select",13),e.bIt("ionChange",function(n){e.eBV(i);const o=e.XpG();return e.Njj(o.filtrarPorEstadoClientes(n))}),e.DNE(7,z,2,2,"ion-select-option",14),e.k0s()(),e.j41(8,"ion-col",12)(9,"ion-select",15),e.bIt("ionChange",function(n){e.eBV(i);const o=e.XpG();return e.Njj(o.filtrarPorMunicipioClientes(n))}),e.DNE(10,J,2,2,"ion-select-option",14),e.k0s()(),e.j41(11,"ion-col",12)(12,"ion-input",16),e.bIt("ionInput",function(n){e.eBV(i);const o=e.XpG();return e.Njj(o.filtrarPorColoniaClientes(n))}),e.k0s()()()()()(),e.j41(13,"ion-accordion-group",17),e.DNE(14,K,6,2,"ion-accordion",18),e.k0s(),e.j41(15,"ion-infinite-scroll",19),e.bIt("ionInfinite",function(n){e.eBV(i);const o=e.XpG();return e.Njj(o.cargarMasClientes(n))}),e.nrm(16,"ion-infinite-scroll-content",20),e.k0s(),e.bVm()}if(2&a){const i=e.XpG();e.R7$(7),e.Y8G("ngForOf",i.estadosClientes),e.R7$(3),e.Y8G("ngForOf",i.municipiosClientes),e.R7$(3),e.Y8G("multiple",!0),e.R7$(),e.Y8G("ngForOf",i.resultadosAgrupadosClientes)}}function H(a,u){if(1&a){const i=e.RV6();e.j41(0,"ion-card-content")(1,"div")(2,"strong"),e.EFF(3,"Fecha:"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"div")(6,"strong"),e.EFF(7,"Tel\xe9fono:"),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"div")(10,"strong"),e.EFF(11,"Domicilio:"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"ion-row")(14,"ion-col",24)(15,"ion-button",25),e.bIt("click",function(){const n=e.eBV(i).$implicit,o=e.XpG(3);return e.Njj(o.confirm(n))}),e.EFF(16,"Confirmar"),e.k0s()()()()}if(2&a){const i=u.$implicit;e.R7$(4),e.SpI(" ",i.fecha,""),e.R7$(4),e.SpI(" ",i.telefono,""),e.R7$(4),e.E5c(" ",i.domicilio,", ",i.colonia,", ",i.municipio,"")}}function Z(a,u){if(1&a&&(e.j41(0,"ion-accordion")(1,"ion-item",22)(2,"ion-label"),e.EFF(3),e.k0s()(),e.j41(4,"ion-card",23),e.DNE(5,H,17,5,"ion-card-content",18),e.k0s()()),2&a){const i=u.$implicit;e.R7$(3),e.JRh(i.nombre_razon_social),e.R7$(2),e.Y8G("ngForOf",i.registros)}}function ee(a,u){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"ion-accordion-group",17),e.DNE(2,Z,6,2,"ion-accordion",18),e.k0s(),e.j41(3,"ion-infinite-scroll",19),e.bIt("ionInfinite",function(n){e.eBV(i);const o=e.XpG();return e.Njj(o.cargarMasCitas(n))}),e.nrm(4,"ion-infinite-scroll-content",26),e.k0s(),e.bVm()}if(2&a){const i=e.XpG();e.R7$(),e.Y8G("multiple",!0),e.R7$(),e.Y8G("ngForOf",i.resultadosAgrupadosCitas)}}let te=(()=>{var a;class u{constructor(t,n,o,s,c){this.fSubidaService=t,this.citasService=n,this.modalController=o,this.loadingController=s,this.alertController=c,this.segment="clientes",this.datosUnicosClientes=[],this.resultadosFiltradosClientes=[],this.resultadosAgrupadosClientes=[],this.estadosClientes=[],this.municipiosClientes=[],this.coloniasClientes=[],this.datosCitas=[],this.resultadosAgrupadosCitas=[],this.filtrosClientes={estado:"",municipio:"",colonia:"",query:""},this.pageSizeClientes=20,this.currentPageClientes=0,this.pageSizeCitas=20,this.currentPageCitas=0}ngOnInit(){this.cargarClientes(),this.cargarCitas()}cargarClientes(){var t=this;return(0,h.A)(function*(){const n=yield t.loadingController.create({message:"Cargando clientes...",spinner:"crescent"});yield n.present(),t.fSubidaService.organizarInformacion().subscribe({next:o=>{t.datosUnicosClientes=t.filtrarInformacionUnica(o.Sheet1),t.resultadosFiltradosClientes=[...t.datosUnicosClientes],t.actualizarFiltrosClientes(t.datosUnicosClientes),t.resultadosAgrupadosClientes=t.agruparPorRazonSocial(t.cargarPaginaClientes()),n.dismiss()},error:()=>n.dismiss()})})()}cargarCitas(){var t=this;return(0,h.A)(function*(){const n=yield t.loadingController.create({message:"Cargando citas...",spinner:"crescent"});yield n.present(),t.citasService.getCitaProgramada().subscribe({next:o=>{t.datosCitas=o,t.resultadosAgrupadosCitas=t.agruparPorRazonSocial(t.cargarPaginaCitas()),n.dismiss()},error:()=>n.dismiss()})})()}onSegmentChanged(t){this.segment=t.detail.value}cargarPaginaClientes(){const t=this.currentPageClientes*this.pageSizeClientes,o=this.resultadosFiltradosClientes.slice(t,t+this.pageSizeClientes);return this.currentPageClientes++,o}cargarPaginaCitas(){const t=this.currentPageCitas*this.pageSizeCitas,o=this.datosCitas.slice(t,t+this.pageSizeCitas);return this.currentPageCitas++,o}cargarMasClientes(t){const n=this.cargarPaginaClientes();this.resultadosAgrupadosClientes=[...this.resultadosAgrupadosClientes,...this.agruparPorRazonSocial(n)],t.target.complete(),this.currentPageClientes*this.pageSizeClientes>=this.resultadosFiltradosClientes.length&&(t.target.disabled=!0)}cargarMasCitas(t){const n=this.cargarPaginaCitas();this.resultadosAgrupadosCitas=[...this.resultadosAgrupadosCitas,...this.agruparPorRazonSocial(n)],t.target.complete(),this.currentPageCitas*this.pageSizeCitas>=this.datosCitas.length&&(t.target.disabled=!0)}filtrarInformacionUnica(t){const n=new Map;return t.forEach(o=>{const s=`${o.rfc}|${o.nombre_razon_social}|${o.domicilio}|${o.colonia}`;n.has(s)||n.set(s,o)}),Array.from(n.values())}agruparPorRazonSocial(t){return t.map(n=>({nombre_razon_social:n.nombre_razon_social,registros:t.filter(o=>o.nombre_razon_social===n.nombre_razon_social)}))}actualizarFiltrosClientes(t){this.estadosClientes=[...new Set(t.map(n=>n.estado))],this.municipiosClientes=[...new Set(t.map(n=>n.municipio))],this.coloniasClientes=[...new Set(t.map(n=>n.colonia))]}buscarCliente(t){this.filtrosClientes.query=t.target.value.toLowerCase(),this.aplicarFiltrosClientes()}buscarCita(t){const n=t.target.value.toLowerCase(),o=this.datosCitas.filter(s=>s.nombre_razon_social.toLowerCase().includes(n));this.resultadosAgrupadosCitas=this.agruparPorRazonSocial(o)}filtrarPorEstadoClientes(t){this.filtrosClientes.estado=t.detail.value,this.aplicarFiltrosClientes()}filtrarPorMunicipioClientes(t){this.filtrosClientes.municipio=t.detail.value,this.aplicarFiltrosClientes()}filtrarPorColoniaClientes(t){this.filtrosClientes.colonia=t.target.value.toLowerCase(),this.aplicarFiltrosClientes()}aplicarFiltrosClientes(){let t=this.datosUnicosClientes;this.filtrosClientes.query&&(t=t.filter(n=>n.nombre_razon_social.toLowerCase().includes(this.filtrosClientes.query))),this.filtrosClientes.estado&&(t=t.filter(n=>n.estado===this.filtrosClientes.estado)),this.filtrosClientes.municipio&&(t=t.filter(n=>n.municipio===this.filtrosClientes.municipio)),this.filtrosClientes.colonia&&(t=t.filter(n=>n.colonia.toLowerCase().includes(this.filtrosClientes.colonia))),this.resultadosFiltradosClientes=t,this.currentPageClientes=0,this.resultadosAgrupadosClientes=this.agruparPorRazonSocial(this.cargarPaginaClientes())}confirm(t){var n=this;return(0,h.A)(function*(){yield(yield n.alertController.create({header:"Confirmaci\xf3n",message:"\xbfDesea seleccionar este registro?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Confirmar",handler:()=>n.modalController.dismiss(t,"confirm")}]})).present()})()}cancel(){this.modalController.dismiss(null,"cancel")}}return(a=u).\u0275fac=function(t){return new(t||a)(e.rXU(U.i),e.rXU(q.i),e.rXU(l.W3),e.rXU(l.Xi),e.rXU(l.hG))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-lista-clientes"]],standalone:!0,features:[e.aNF],decls:20,vars:5,consts:[[2,"--background","#757374","color","white"],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],[3,"ionChange","value"],["value","clientes",2,"color","white"],["value","citas",2,"color","white"],["showCancelButton","always","mode","ios","color","light","cancel-button-text","Borrar","placeholder","Buscar cliente",3,"debounce","ionInput",4,"ngIf"],["showCancelButton","always","mode","ios","color","light","cancel-button-text","Borrar","placeholder","Buscar cita",3,"debounce","ionInput",4,"ngIf"],[4,"ngIf"],["showCancelButton","always","mode","ios","color","light","cancel-button-text","Borrar","placeholder","Buscar cliente",3,"ionInput","debounce"],["showCancelButton","always","mode","ios","color","light","cancel-button-text","Borrar","placeholder","Buscar cita",3,"ionInput","debounce"],["size","12","size-sm","4"],["placeholder","Estado",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Municipio",3,"ionChange"],["placeholder","Colonia",3,"ionInput"],[3,"multiple"],[4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","crescent","loadingText","Cargando m\xe1s clientes..."],[3,"value"],["slot","header","color","light"],["slot","content"],[1,"text-center"],["expand","block",3,"click"],["loadingSpinner","crescent","loadingText","Cargando m\xe1s citas..."]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3," Buscar Clientes y Citas "),e.k0s(),e.j41(4,"ion-buttons",1)(5,"ion-button",2),e.bIt("click",function(){return n.cancel()}),e.nrm(6,"ion-icon",3),e.k0s()()(),e.j41(7,"ion-toolbar",0)(8,"ion-segment",4),e.bIt("ionChange",function(s){return n.onSegmentChanged(s)}),e.j41(9,"ion-segment-button",5)(10,"ion-label"),e.EFF(11,"Clientes"),e.k0s()(),e.j41(12,"ion-segment-button",6)(13,"ion-label"),e.EFF(14,"Citas"),e.k0s()()(),e.DNE(15,w,1,1,"ion-searchbar",7)(16,Y,1,1,"ion-searchbar",8),e.k0s()(),e.j41(17,"ion-content"),e.DNE(18,Q,17,4,"ng-container",9)(19,ee,5,2,"ng-container",9),e.k0s()),2&t&&(e.R7$(8),e.Y8G("value",n.segment),e.R7$(7),e.Y8G("ngIf","clientes"===n.segment),e.R7$(),e.Y8G("ngIf","citas"===n.segment),e.R7$(2),e.Y8G("ngIf","clientes"===n.segment),e.R7$(),e.Y8G("ngIf","citas"===n.segment))},dependencies:[l.bv,l.xk,l.YH,l.Jm,l.QW,l.b_,l.I9,l.hU,l.W9,l.lO,l.eU,l.iq,l.Ax,l.Hp,l.$w,l.uz,l.he,l.ln,l.S1,l.Gp,l.eP,l.Nm,l.Ip,l.BC,l.ai,l.Je,l.Gw,v.MD,v.Sq,v.bT],styles:[".cliente-info[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:8px;background-color:#f9f9f9;box-shadow:0 2px 4px #0000001a;font-size:14px;line-height:1.5}.cliente-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:6px}.cliente-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;font-weight:600}"]}),u})();var ne=C(9207),oe=C(1421);const ie=["canvas"];function ae(a,u){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"ion-searchbar",8),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.buscarClientes())}),e.k0s(),e.nrm(2,"hr"),e.j41(3,"form",9),e.bIt("ngSubmit",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.getinfoCliente())}),e.j41(4,"div",10)(5,"div",11)(6,"div",12),e.nrm(7,"input",13),e.j41(8,"label",14),e.EFF(9,"Raz\xf3n Social y/o Nombre"),e.k0s()()(),e.j41(10,"div",15)(11,"div",12),e.nrm(12,"input",16),e.j41(13,"label",17),e.EFF(14,"R.F.C."),e.k0s()()()(),e.j41(15,"div",10)(16,"div",15)(17,"div",12),e.nrm(18,"input",18),e.j41(19,"label",19),e.EFF(20,"Tel\xe9fono"),e.k0s()()(),e.j41(21,"div",15)(22,"div",12),e.nrm(23,"input",20),e.j41(24,"label",21),e.EFF(25,"Fecha"),e.k0s()()(),e.j41(26,"div",15)(27,"div",12),e.nrm(28,"input",22),e.j41(29,"label",23),e.EFF(30,"Tipo de servicio"),e.k0s()()()(),e.j41(31,"div",10)(32,"div",24)(33,"div",12),e.nrm(34,"input",25),e.j41(35,"label",26),e.EFF(36,"C\xf3digo postal"),e.k0s()()(),e.j41(37,"div",24)(38,"div",12),e.nrm(39,"input",27),e.j41(40,"label",28),e.EFF(41,"Giro empresarial"),e.k0s()()()(),e.j41(42,"div",10)(43,"div",29)(44,"div",12),e.nrm(45,"input",30),e.j41(46,"label",31),e.EFF(47,"Domicilio"),e.k0s()()(),e.j41(48,"div",32)(49,"div",12),e.nrm(50,"input",33),e.j41(51,"label",34),e.EFF(52,"# Num"),e.k0s()()(),e.j41(53,"div",29)(54,"div",12),e.nrm(55,"input",35),e.j41(56,"label",36),e.EFF(57,"Colonia"),e.k0s()()()(),e.j41(58,"div",10)(59,"div",24)(60,"div",12),e.nrm(61,"input",37),e.j41(62,"label",38),e.EFF(63,"Municipio"),e.k0s()()(),e.j41(64,"div",24)(65,"div",12),e.nrm(66,"input",39),e.j41(67,"label",40),e.EFF(68,"Estado/Edo"),e.k0s()()()(),e.j41(69,"div",10)(70,"div",41)(71,"ion-button",42),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.limpiarInfoCliente())}),e.EFF(72," Limpiar Formulario "),e.k0s()(),e.j41(73,"div",41)(74,"ion-button",43),e.EFF(75," Guardar y Continuar "),e.k0s()()()(),e.bVm()}if(2&a){const i=e.XpG();e.R7$(),e.Y8G("debounce",25),e.R7$(2),e.Y8G("formGroup",i.clienteInformacion)}}function re(a,u){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td")(16,"ion-button",82),e.bIt("click",function(){const n=e.eBV(i).index,o=e.XpG(2);return e.Njj(o.eliminarBascula(n))}),e.EFF(17," Eliminar "),e.k0s()()()}if(2&a){const i=u.$implicit;e.R7$(2),e.JRh(i.marca),e.R7$(2),e.JRh(i.modelo),e.R7$(2),e.JRh(i.no_serie),e.R7$(2),e.JRh(i.clase),e.R7$(2),e.JRh(i.tipo_bascula),e.R7$(2),e.JRh(i.alc_max),e.R7$(2),e.JRh(i.divi_min)}}function se(a,u){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"form",44)(2,"div",10)(3,"div",45)(4,"div",12),e.nrm(5,"input",46),e.j41(6,"label",19),e.EFF(7,"Compromiso"),e.k0s()()(),e.j41(8,"div",45)(9,"div",12),e.nrm(10,"input",47),e.j41(11,"label",21),e.EFF(12,"Inspecci\xf3n"),e.k0s()()(),e.j41(13,"div",45)(14,"div",12)(15,"ion-select",48)(16,"ion-select-option",49),e.EFF(17,"Inicial"),e.k0s(),e.j41(18,"ion-select-option",50),e.EFF(19,"Peri\xf3dica"),e.k0s(),e.j41(20,"ion-select-option",51),e.EFF(21,"Extraordinaria"),e.k0s()()()(),e.j41(22,"div",45)(23,"div",12)(24,"ion-select",52)(25,"ion-select-option",53),e.EFF(26,"Primero"),e.k0s(),e.j41(27,"ion-select-option",54),e.EFF(28,"Segundo"),e.k0s()()()()()(),e.nrm(29,"hr"),e.j41(30,"form",9),e.bIt("ngSubmit",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.getBascula())}),e.j41(31,"div",55)(32,"h3"),e.EFF(33,"Registro de B\xe1sculas"),e.k0s()(),e.j41(34,"div",56)(35,"div",15)(36,"div",12),e.nrm(37,"input",57),e.j41(38,"label",58),e.EFF(39,"Marca"),e.k0s()()(),e.j41(40,"div",15)(41,"div",12),e.nrm(42,"input",59),e.j41(43,"label",60),e.EFF(44,"Modelo"),e.k0s()()(),e.j41(45,"div",15)(46,"div",12),e.nrm(47,"input",61),e.j41(48,"label",62),e.EFF(49,"No. Serie"),e.k0s()()()(),e.j41(50,"div",56)(51,"div",32)(52,"div",12),e.nrm(53,"input",63),e.j41(54,"label",64),e.EFF(55,"Clase de Exactitud"),e.k0s()()(),e.j41(56,"div",65)(57,"select",66)(58,"option",67),e.EFF(59,"Tipo de instrumento"),e.k0s(),e.j41(60,"option",68),e.EFF(61,"Mec\xe1nico"),e.k0s(),e.j41(62,"option",69),e.EFF(63,"Electr\xf3nico"),e.k0s(),e.j41(64,"option",70),e.EFF(65,"H\xedbrido"),e.k0s()()(),e.j41(66,"div",45)(67,"div",12)(68,"input",71),e.bIt("input",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.clasifiacionbasculas())}),e.k0s(),e.j41(69,"label",72),e.EFF(70,"Alcance M\xe1ximo"),e.k0s()()(),e.j41(71,"div",45)(72,"div",12)(73,"input",73),e.bIt("input",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.clasifiacionbasculas())}),e.k0s(),e.j41(74,"label",74),e.EFF(75,"Divisi\xf3n M\xednima"),e.k0s()()()(),e.j41(76,"div",56)(77,"div",75)(78,"ion-button",76),e.EFF(79," Agregar B\xe1scula "),e.k0s()()()(),e.nrm(80,"hr"),e.j41(81,"div",77)(82,"table",78)(83,"thead")(84,"tr")(85,"th"),e.EFF(86,"Marca"),e.k0s(),e.j41(87,"th"),e.EFF(88,"Modelo"),e.k0s(),e.j41(89,"th"),e.EFF(90,"No. Serie"),e.k0s(),e.j41(91,"th"),e.EFF(92,"Clase"),e.k0s(),e.j41(93,"th"),e.EFF(94,"Tipo de Instrumento"),e.k0s(),e.j41(95,"th"),e.EFF(96,"Alcance M\xe1ximo"),e.k0s(),e.j41(97,"th"),e.EFF(98,"Divisi\xf3n M\xednima"),e.k0s(),e.j41(99,"th"),e.EFF(100,"Opciones"),e.k0s()()(),e.j41(101,"tbody"),e.DNE(102,re,18,7,"tr",79),e.k0s()()(),e.j41(103,"div",80)(104,"div",41)(105,"ion-button",42),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.limpiarFormularioBasculas())}),e.EFF(106," Limpiar Formulario "),e.k0s()(),e.j41(107,"div",41)(108,"ion-button",81),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.guardarInformacionBasculas())}),e.EFF(109," Guardar "),e.k0s()()(),e.bVm()}if(2&a){const i=e.XpG();e.R7$(),e.Y8G("formGroup",i.basculaInformacion),e.R7$(29),e.Y8G("formGroup",i.registroBasculas),e.R7$(72),e.Y8G("ngForOf",i.basculas)}}function le(a,u){if(1&a&&(e.j41(0,"ion-select-option",106),e.EFF(1),e.k0s()),2&a){const i=u.$implicit,t=u.index;e.Y8G("value",i),e.R7$(),e.Lme("Equipo No. ",t+1," || Marca: ",i.marca," ")}}function ce(a,u){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"h5",83),e.EFF(2,"INSPECCIONAR QUE EL INSTRUMENTO DE MEDICI\xd3N CUMPLA CON LAS CARACTER\xcdSTICAS QUE LE APLIQUEN DE LA SIGUIENTE LISTA Y REGISTRAR EL CUMPLIMIENTO ( C ), NO CUMPLIMIENTO (NC) O NO APLICA (NA)"),e.k0s(),e.nrm(3,"hr"),e.j41(4,"form",9),e.bIt("ngSubmit",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.getInspeccionVisual())}),e.j41(5,"ion-select",84),e.bIt("ionChange",function(n){e.eBV(i);const o=e.XpG();return e.Njj(o.loadInfoVisuales(n))}),e.DNE(6,le,2,3,"ion-select-option",85),e.k0s(),e.nrm(7,"hr"),e.j41(8,"table",86)(9,"tbody")(10,"tr")(11,"td"),e.EFF(12,"El aspecto general del instrumento debe estar en buenas condiciones no tenga piezas sueltas."),e.k0s(),e.j41(13,"td")(14,"ion-select",87)(15,"ion-select-option",88),e.EFF(16,"C"),e.k0s(),e.j41(17,"ion-select-option",89),e.EFF(18,"NC"),e.k0s(),e.j41(19,"ion-select-option",90),e.EFF(20,"NA"),e.k0s()()(),e.j41(21,"td"),e.EFF(22,"El estado de la escala debe ser aceptable, ent\xe9ndiendose por aceptable que no presente ralladuras ni deformaciones, tales que afecten la toma de las lecturas con claridad"),e.k0s(),e.j41(23,"td")(24,"ion-select",91)(25,"ion-select-option",88),e.EFF(26,"C"),e.k0s(),e.j41(27,"ion-select-option",89),e.EFF(28,"NC"),e.k0s(),e.j41(29,"ion-select-option",90),e.EFF(30,"NA"),e.k0s()()()(),e.j41(31,"tr")(32,"td"),e.EFF(33," Se debe inspeccionar que el tornillo en que est\xe9n las piezas que sirven para nivelar el dispositivo indicador, est\xe9 fijo y colocado de tal manera que no sea posible retirar de \xe9l, niguna de las piezas. "),e.k0s(),e.j41(34,"td")(35,"ion-select",92)(36,"ion-select-option",88),e.EFF(37,"C"),e.k0s(),e.j41(38,"ion-select-option",89),e.EFF(39,"NC"),e.k0s(),e.j41(40,"ion-select-option",90),e.EFF(41,"NA"),e.k0s()()(),e.j41(42,"td"),e.EFF(43,"El equipo auxiliar si existiera debe ser aceptable, por ejemplo los caucharones y contrapesos no deben presentar golpes o deformaciones, debe comprobarse la masa real de de los contrapesos, tambi\xe9n se debe comprobar la masa por contrapesar para lo cual debe conocerse la relaci\xf3n del instrumento."),e.k0s(),e.j41(44,"td")(45,"ion-select",93)(46,"ion-select-option",88),e.EFF(47,"C"),e.k0s(),e.j41(48,"ion-select-option",89),e.EFF(49,"NC"),e.k0s(),e.j41(50,"ion-select-option",90),e.EFF(51,"NA"),e.k0s()()()(),e.j41(52,"tr")(53,"td"),e.EFF(54," Inspeccionar que las graduaciones de los dispositivos indicadores est\xe9n en unidades del Sistema General de Unidades de Medida conformidad con la NOM-008-SCFI con sus s\xedmbolos correspondientes. "),e.k0s(),e.j41(55,"td")(56,"ion-select",94)(57,"ion-select-option",88),e.EFF(58,"C"),e.k0s(),e.j41(59,"ion-select-option",89),e.EFF(60,"NC"),e.k0s(),e.j41(61,"ion-select-option",90),e.EFF(62,"NA"),e.k0s()()(),e.j41(63,"td"),e.EFF(64," Inspeccionar las indicaciones obligatorias y posiciones para las marcas de inspecci\xf3n y control. "),e.k0s(),e.j41(65,"td")(66,"ion-select",95)(67,"ion-select-option",88),e.EFF(68,"C"),e.k0s(),e.j41(69,"ion-select-option",89),e.EFF(70,"NC"),e.k0s(),e.j41(71,"ion-select-option",90),e.EFF(72,"NA"),e.k0s()()()(),e.j41(73,"tr")(74,"td"),e.EFF(75,"Las graduaciones deben estar grabadas en ambas caras de los dispositivos indicadores."),e.k0s(),e.j41(76,"td")(77,"ion-select",96)(78,"ion-select-option",88),e.EFF(79,"C"),e.k0s(),e.j41(80,"ion-select-option",89),e.EFF(81,"NC"),e.k0s(),e.j41(82,"ion-select-option",90),e.EFF(83,"NA"),e.k0s()()(),e.j41(84,"td"),e.EFF(85," Inspeccionar que las condiciones de uso del instrumento sean apropiadas. "),e.k0s(),e.j41(86,"td")(87,"ion-select",97)(88,"ion-select-option",88),e.EFF(89,"C"),e.k0s(),e.j41(90,"ion-select-option",89),e.EFF(91,"NC"),e.k0s(),e.j41(92,"ion-select-option",90),e.EFF(93,"NA"),e.k0s()()()(),e.j41(94,"tr")(95,"td"),e.EFF(96," Todas las barras graduadas de los instrumentos deben teber en sus extremos un remache que impida que el pil\xf3n corredizo sea quitado. "),e.k0s(),e.j41(97,"td")(98,"ion-select",98)(99,"ion-select-option",88),e.EFF(100,"C"),e.k0s(),e.j41(101,"ion-select-option",89),e.EFF(102,"NC"),e.k0s(),e.j41(103,"ion-select-option",90),e.EFF(104,"NA"),e.k0s()()(),e.j41(105,"td"),e.EFF(106," El ajuste de cero debe ser aceptable, la desviaci\xf3n no debe ser mayor a 0,25e. "),e.k0s(),e.j41(107,"td")(108,"ion-select",99)(109,"ion-select-option",88),e.EFF(110,"C"),e.k0s(),e.j41(111,"ion-select-option",89),e.EFF(112,"NC"),e.k0s(),e.j41(113,"ion-select-option",90),e.EFF(114,"NA"),e.k0s()()()(),e.j41(115,"tr")(116,"td"),e.EFF(117," Los instrumentos que constan de varios receptores de carga y de dispositivos medidores de carga, deben tener grabados la marca de identificai\xf3n, alcance m\xednimo de medici\xf3n, divisi\xf3n de inspecci\xf3n y si es apropiado, cargar l\xedmite y efecto m\xe1ximo aditivo de tara. "),e.k0s(),e.j41(118,"td")(119,"ion-select",100)(120,"ion-select-option",88),e.EFF(121,"C"),e.k0s(),e.j41(122,"ion-select-option",89),e.EFF(123,"NC"),e.k0s(),e.j41(124,"ion-select-option",90),e.EFF(125,"NA"),e.k0s()()(),e.j41(126,"td"),e.EFF(127," Los instrumentos que usan energ\xeda el\xe9ctrica deben ser conectados normalmente a la fuente de energ\xeda y estar encendidos durante las pruebas realizables despu\xe9s del periodo de calnetamiento especificado por el fabricante. "),e.k0s(),e.j41(128,"td")(129,"ion-select",101)(130,"ion-select-option",88),e.EFF(131,"C"),e.k0s(),e.j41(132,"ion-select-option",89),e.EFF(133,"NC"),e.k0s(),e.j41(134,"ion-select-option",90),e.EFF(135,"NA"),e.k0s()()()(),e.j41(136,"tr")(137,"td"),e.EFF(138," Inspeccionar el correcto funcionamiento de los dispositivos: Ajuste a cero, tara y dispositivos de c\xe1lculo."),e.k0s(),e.j41(139,"td")(140,"ion-select",102)(141,"ion-select-option",88),e.EFF(142,"C"),e.k0s(),e.j41(143,"ion-select-option",89),e.EFF(144,"NC"),e.k0s(),e.j41(145,"ion-select-option",90),e.EFF(146,"NA"),e.k0s()()(),e.j41(147,"td"),e.nrm(148,"ion-textarea",103),e.k0s()()()(),e.j41(149,"div",80)(150,"div",41)(151,"ion-button",104),e.EFF(152," Limpiar Formulario "),e.k0s()(),e.j41(153,"div",41)(154,"ion-button",105),e.EFF(155," Guardar "),e.k0s()()()(),e.bVm()}if(2&a){const i=e.XpG();e.R7$(4),e.Y8G("formGroup",i.inspeccionVisual),e.R7$(2),e.Y8G("ngForOf",i.basculasVisual),e.R7$(142),e.Y8G("autoGrow",!0)}}function ue(a,u){if(1&a&&(e.j41(0,"ion-select-option",106),e.EFF(1),e.k0s()),2&a){const i=u.$implicit,t=u.index;e.Y8G("value",i),e.R7$(),e.Lme(" Equipo No. ",t+1," || Marca: ",i.marca," ")}}function me(a,u){1&a&&e.nrm(0,"div",143)}function de(a,u){if(1&a&&(e.j41(0,"tr",116)(1,"th"),e.EFF(2),e.k0s(),e.j41(3,"th"),e.nrm(4,"ion-input",133),e.DNE(5,me,1,0,"div",134),e.k0s(),e.j41(6,"th"),e.nrm(7,"ion-input",135),e.k0s(),e.j41(8,"th"),e.nrm(9,"ion-input",136),e.k0s(),e.j41(10,"th"),e.nrm(11,"ion-input",137),e.k0s(),e.nrm(12,"th"),e.j41(13,"th"),e.nrm(14,"ion-input",138),e.k0s(),e.j41(15,"th"),e.nrm(16,"ion-input",139),e.k0s(),e.j41(17,"th"),e.nrm(18,"ion-input",140),e.k0s(),e.j41(19,"th"),e.nrm(20,"ion-input",141),e.k0s(),e.j41(21,"th"),e.nrm(22,"ion-input",142),e.k0s()()),2&a){let i;const t=u.$implicit,n=u.index;e.Y8G("formGroupName",n),e.R7$(2),e.JRh(n+1),e.R7$(3),e.Y8G("ngIf",(null==(i=t.get("carga"))?null:i.invalid)&&((null==(i=t.get("carga"))?null:i.dirty)||(null==(i=t.get("carga"))?null:i.touched)))}}function pe(a,u){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"ion-select",107),e.bIt("ionChange",function(n){e.eBV(i);const o=e.XpG();return e.Njj(o.infoBasculaMtro(n))}),e.DNE(2,ue,2,3,"ion-select-option",85),e.k0s(),e.nrm(3,"hr"),e.j41(4,"form",9),e.bIt("ngSubmit",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.getestudioMetro())}),e.j41(5,"div",10)(6,"div",45)(7,"div",12),e.nrm(8,"input",108),e.j41(9,"label",72),e.EFF(10,"Alcance M\xe1ximo"),e.k0s()()(),e.j41(11,"div",45)(12,"div",12),e.nrm(13,"input",109),e.j41(14,"label",110),e.EFF(15,"Divisi\xf3n m\xednima"),e.k0s()()(),e.j41(16,"div",45)(17,"div",12),e.nrm(18,"input",111),e.j41(19,"label",112),e.EFF(20,"Clase de exactitud"),e.k0s()()(),e.j41(21,"div",45)(22,"div",12),e.nrm(23,"input",113),e.j41(24,"label",114),e.EFF(25,"Precarga 100% de M\xe1x"),e.k0s()()()(),e.nrm(26,"hr"),e.j41(27,"h1",83),e.EFF(28,"Repetibilidad"),e.k0s(),e.j41(29,"div")(30,"table",78)(31,"thead")(32,"tr",83),e.nrm(33,"th"),e.j41(34,"th"),e.EFF(35,"50% de M\xe1x"),e.k0s(),e.j41(36,"th"),e.EFF(37,"100% de M\xe1x"),e.k0s(),e.j41(38,"th"),e.EFF(39,"50% de M\xe1x"),e.k0s(),e.j41(40,"th"),e.EFF(41,"100% de M\xe1x"),e.k0s(),e.j41(42,"th"),e.EFF(43,"1/3 de M\xe1x"),e.k0s()()(),e.j41(44,"tbody",115)(45,"tr",116),e.nrm(46,"th"),e.j41(47,"td"),e.nrm(48,"input",117),e.k0s(),e.j41(49,"td"),e.nrm(50,"input",118),e.k0s(),e.j41(51,"td"),e.nrm(52,"input",119),e.k0s(),e.j41(53,"td"),e.nrm(54,"input",120),e.k0s(),e.j41(55,"td"),e.nrm(56,"input",121),e.k0s()(),e.j41(57,"tr",83),e.nrm(58,"th"),e.j41(59,"th"),e.EFF(60,"Diferencia"),e.k0s(),e.j41(61,"th"),e.EFF(62,"Diferencia"),e.k0s(),e.j41(63,"th"),e.EFF(64,"Diferencia"),e.k0s(),e.j41(65,"th"),e.EFF(66,"Diferencia"),e.k0s(),e.j41(67,"th"),e.EFF(68,"EMT"),e.k0s()(),e.j41(69,"tr",116),e.nrm(70,"th"),e.j41(71,"td"),e.nrm(72,"input",122),e.k0s(),e.j41(73,"td"),e.nrm(74,"input",123),e.k0s(),e.j41(75,"td"),e.nrm(76,"input",124),e.k0s(),e.j41(77,"td"),e.nrm(78,"input",125),e.k0s(),e.j41(79,"td"),e.nrm(80,"input",126),e.k0s()()()()(),e.nrm(81,"hr"),e.j41(82,"div",10)(83,"div",127)(84,"div",10)(85,"div",24)(86,"h1",83),e.EFF(87,"Exactitud"),e.k0s()(),e.j41(88,"div",24)(89,"h1",83),e.EFF(90,"Repetibilidad"),e.k0s()()(),e.j41(91,"div",77)(92,"table",78)(93,"thead")(94,"tr",83),e.nrm(95,"th"),e.j41(96,"th"),e.EFF(97,"Carga (kg)"),e.k0s(),e.j41(98,"th"),e.EFF(99,"EMT (g)"),e.k0s(),e.j41(100,"th"),e.EFF(101,"Error +/- (g) ASCENDIENTE"),e.k0s(),e.j41(102,"th"),e.EFF(103,"Error +/- (g) DESCENDIENTE"),e.k0s(),e.nrm(104,"th"),e.j41(105,"th"),e.EFF(106,"rep50num"),e.k0s(),e.j41(107,"th"),e.EFF(108,"rep100num"),e.k0s(),e.j41(109,"th"),e.EFF(110,"den50"),e.k0s(),e.j41(111,"th"),e.EFF(112,"den100"),e.k0s(),e.j41(113,"th"),e.EFF(114,"emt13"),e.k0s()()(),e.j41(115,"tbody",128),e.DNE(116,de,23,3,"tr",129),e.k0s()()()(),e.nrm(117,"ion-textarea",130)(118,"hr"),e.j41(119,"div",131)(120,"div",41)(121,"ion-button",132),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.limpiarEstudioMetro())}),e.EFF(122," Limpiar Formulario "),e.k0s()(),e.j41(123,"div",41)(124,"ion-button",105),e.EFF(125," Guardar "),e.k0s()()()(),e.nrm(126,"hr"),e.k0s(),e.bVm()}if(2&a){const i=e.XpG();e.R7$(2),e.Y8G("ngForOf",i.basculasMetro),e.R7$(2),e.Y8G("formGroup",i.estudioMtro),e.R7$(41),e.Y8G("formGroupName",0),e.R7$(24),e.Y8G("formGroupName",0),e.R7$(47),e.Y8G("ngForOf",i.ejemplo1.controls),e.R7$(),e.Y8G("autoGrow",!0)}}function fe(a,u){if(1&a&&(e.j41(0,"ion-select-option",106),e.EFF(1),e.k0s()),2&a){const i=u.$implicit,t=u.index;e.Y8G("value",i),e.R7$(),e.Lme("Equipo No. ",t+1," || Marca: ",i.marca,"")}}function ge(a,u){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"form",9),e.bIt("ngSubmit",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.getDictamenBascula())}),e.j41(2,"ion-select",144),e.bIt("ionChange",function(n){e.eBV(i);const o=e.XpG();return e.Njj(o.infoBasculaResumen(n))}),e.DNE(3,fe,2,3,"ion-select-option",85),e.k0s(),e.j41(4,"div",77)(5,"table",78)(6,"thead")(7,"tr")(8,"th"),e.EFF(9,"Marca"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Modelo"),e.k0s(),e.j41(12,"th"),e.EFF(13,"No. Serie"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Clase"),e.k0s(),e.j41(16,"th"),e.EFF(17,"Divisi\xf3n m\xednima"),e.k0s(),e.j41(18,"th"),e.EFF(19,"Alcance maximo"),e.k0s(),e.j41(20,"th"),e.EFF(21,"Tipo de instrumento"),e.k0s()()(),e.j41(22,"tbody")(23,"tr")(24,"td"),e.EFF(25),e.k0s(),e.j41(26,"td"),e.EFF(27),e.k0s(),e.j41(28,"td"),e.EFF(29),e.k0s(),e.j41(30,"td"),e.EFF(31),e.k0s(),e.j41(32,"td"),e.EFF(33),e.k0s(),e.j41(34,"td"),e.EFF(35),e.k0s(),e.j41(36,"td"),e.EFF(37),e.k0s()()()()(),e.nrm(38,"hr"),e.j41(39,"h1",83),e.EFF(40,"Dictamen"),e.k0s(),e.nrm(41,"hr"),e.j41(42,"div",10)(43,"div",45),e.EFF(44," Inspecci\xf3n visual "),e.j41(45,"select",145),e.nrm(46,"option",146),e.j41(47,"option",147),e.EFF(48,"Cumple"),e.k0s(),e.j41(49,"option",148),e.EFF(50,"No cumple"),e.k0s()()(),e.j41(51,"div",45),e.EFF(52," Exactitud - I. Metrol\xf3gica "),e.j41(53,"select",149),e.nrm(54,"option",146),e.j41(55,"option",147),e.EFF(56,"Cumple"),e.k0s(),e.j41(57,"option",148),e.EFF(58,"No cumple"),e.k0s()()(),e.j41(59,"div",45),e.EFF(60," Repetibilidad - I. Metrol\xf3gica "),e.j41(61,"select",150),e.nrm(62,"option",146),e.j41(63,"option",147),e.EFF(64,"Cumple"),e.k0s(),e.j41(65,"option",148),e.EFF(66,"No cumple"),e.k0s()()(),e.j41(67,"div",45),e.EFF(68," Exentricidad - I. Metrol\xf3gica "),e.j41(69,"select",151),e.nrm(70,"option",146),e.j41(71,"option",147),e.EFF(72,"Cumple"),e.k0s(),e.j41(73,"option",148),e.EFF(74,"No cumple"),e.k0s()()()(),e.nrm(75,"hr"),e.j41(76,"div",10)(77,"div",24),e.EFF(78," UI - Folio "),e.j41(79,"div",12),e.nrm(80,"input",152),e.k0s()(),e.j41(81,"div",24),e.EFF(82," PRDFECO - Folio "),e.j41(83,"div",12),e.nrm(84,"input",153),e.k0s()()(),e.nrm(85,"hr"),e.j41(86,"div",10)(87,"div",24),e.EFF(88," DICTAMEN FINAL "),e.j41(89,"select",154),e.nrm(90,"option",146),e.j41(91,"option",147),e.EFF(92,"Cumple"),e.k0s(),e.j41(93,"option",148),e.EFF(94,"No cumple"),e.k0s()()(),e.j41(95,"div",24),e.EFF(96," Equipo de medici\xf3n "),e.j41(97,"select",155),e.nrm(98,"option",146),e.j41(99,"option",156),e.EFF(100,"Equipo 1"),e.k0s(),e.j41(101,"option",156),e.EFF(102,"Equipo 2"),e.k0s()()()(),e.nrm(103,"hr")(104,"ion-textarea",130)(105,"hr"),e.j41(106,"div",80)(107,"div",41)(108,"ion-button",104),e.EFF(109," Limpiar Formulario "),e.k0s()(),e.j41(110,"div",41)(111,"ion-button",105),e.EFF(112," Guardar "),e.k0s()()()(),e.bVm()}if(2&a){const i=e.XpG();e.R7$(),e.Y8G("formGroup",i.resumen),e.R7$(2),e.Y8G("ngForOf",i.basculasMetro),e.R7$(22),e.JRh(i.basculaResumen.marca),e.R7$(2),e.JRh(i.basculaResumen.modelo),e.R7$(2),e.JRh(i.basculaResumen.no_serie),e.R7$(2),e.JRh(i.basculaResumen.clase),e.R7$(2),e.JRh(i.basculaResumen.divi_max),e.R7$(2),e.JRh(i.basculaResumen.alcance_max),e.R7$(2),e.JRh(i.basculaResumen.tipo_bascula),e.R7$(67),e.Y8G("autoGrow",!0)}}function _e(a,u){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"form",44)(2,"div",77)(3,"table",86)(4,"thead")(5,"tr",83)(6,"td")(7,"b"),e.EFF(8,"INFORMACI\xd3N DE PAGO"),e.k0s()()()()(),e.j41(9,"table",78)(10,"thead")(11,"tr")(12,"th"),e.EFF(13,"Cantidad"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Descripci\xf3n"),e.k0s(),e.j41(16,"th"),e.EFF(17,"Costo"),e.k0s(),e.j41(18,"th"),e.EFF(19,"Importe"),e.k0s()()(),e.j41(20,"tbody")(21,"tr")(22,"th"),e.nrm(23,"input",157),e.k0s(),e.j41(24,"th"),e.nrm(25,"input",158),e.k0s(),e.j41(26,"th"),e.nrm(27,"input",159),e.k0s(),e.j41(28,"th"),e.nrm(29,"input",160),e.k0s()(),e.j41(30,"tr"),e.nrm(31,"th")(32,"th")(33,"th"),e.j41(34,"th"),e.nrm(35,"input",161),e.k0s()()()(),e.j41(36,"h5",83),e.EFF(37,"Firmas"),e.k0s(),e.j41(38,"div",162)(39,"div",163)(40,"div",164),e.nrm(41,"canvas",165),e.k0s(),e.nrm(42,"div",166),e.j41(43,"div",164),e.nrm(44,"canvas",167),e.k0s(),e.nrm(45,"div",166),e.j41(46,"div",164),e.nrm(47,"canvas",168),e.k0s()(),e.j41(48,"div",80)(49,"div",169),e.EFF(50," Nombre y Firma del cliente "),e.nrm(51,"br"),e.j41(52,"button",170),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.borrarFirma("firmaCliente"))}),e.EFF(53,"Borrar Firma"),e.k0s()(),e.nrm(54,"div",171),e.j41(55,"div",169),e.EFF(56," Nombre y Firma del inspector "),e.nrm(57,"br"),e.j41(58,"button",170),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.borrarFirma("firmaInspector"))}),e.EFF(59,"Borrar Firma"),e.k0s()(),e.nrm(60,"div",171),e.j41(61,"div",169),e.EFF(62," Nombre y Firma del personal de apoyo "),e.nrm(63,"br"),e.j41(64,"button",170),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.borrarFirma("firmaApoyo"))}),e.EFF(65,"Borrar Firma"),e.k0s()()()()(),e.j41(66,"div",172)(67,"div",41)(68,"ion-button",104),e.EFF(69," Limpiar Formulario "),e.k0s()(),e.j41(70,"div",41)(71,"ion-button",173),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.encuestaSatifaccion())}),e.EFF(72," Guardar "),e.k0s()()()(),e.j41(73,"div",83)(74,"ion-button",174),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.imprimirReporte())}),e.EFF(75," Imprimir reporte "),e.k0s()(),e.bVm()}if(2&a){const i=e.XpG();e.R7$(),e.Y8G("formGroup",i.infoPago)}}D.vfs=B.b.vfs;let L=(()=>{var a;class u{constructor(t,n,o,s,c,m,d,_,f,p){this.cd=t,this.fb=n,this.loadingController=o,this.storageService=s,this.alertController=c,this.citasService=m,this.modalController=d,this.toastController=_,this.dictamenSerivce=f,this.generarReporteService=p,this.citasProgramadas=[],this.segment="infoClientes",this.basculas=[],this.basculasMetro=[],this.basculaResumen=[],this.basculasVisual=[],this.storageInfoVisual=[],this.storageInfoResumen=[],this.storageInfoPago=[]}ngOnInit(){var t=this;return(0,h.A)(function*(){t.infoClientes(),t.clienteInformacion=t.fb.group({nombre_razon_social:["",r.k0.required],rfc:["",r.k0.required],telefono:["",r.k0.required],Fecha:["",r.k0.required],tipo_servicio:["",r.k0.required],cp:["",r.k0.required],giro_empresarial:["",r.k0.required],domicilio:["",r.k0.required],num_dom:["",r.k0.required],colonia:["",r.k0.required],municipio:["",r.k0.required],estado:["",r.k0.required]}),t.basculaInformacion=t.fb.group({compromiso:["",r.k0.required],inspeccion:["",r.k0.required],tipo_inspeccion:["",r.k0.required],semestre:["",r.k0.required],basculas:[[],r.k0.required]}),t.registroBasculas=t.fb.group({marca:["",r.k0.required],modelo:["",r.k0.required],no_serie:["",r.k0.required],clase:["",r.k0.required],tipo_bascula:["",r.k0.required],alc_max:["",r.k0.required],divi_min:["",r.k0.required]}),t.inspeccionVisual=t.fb.group({bascula:[[]],IV1:["",r.k0.required],IV2:["",r.k0.required],IV3:["",r.k0.required],IV4:["",r.k0.required],IV5:["",r.k0.required],IV6:["",r.k0.required],IV7:["",r.k0.required],IV8:["",r.k0.required],IV9:["",r.k0.required],IV10:["",r.k0.required],IV11:["",r.k0.required],IV12:["",r.k0.required],IV13:["",r.k0.required],ObervacionesInspeccionVisual:["",r.k0.required],basculaInspeccion:[""]}),t.estudioMtro=t.fb.group({precarga:[""],alc_max:[""],divi_max:[""],clase_ex:[""],observaciones:[""],ejemplo1:t.fb.array([t.fb.group({carga:[""],emt:[""],errASC:[""],errDSC:[""],num50:[""],num100:[""],den50:[""],den100:[""],emt13:[""]}),t.fb.group({carga:[""],emt:[""],errASC:[""],errDSC:[""],num50:[""],num100:[""],den50:[""],den100:[""],emt13:[""]}),t.fb.group({carga:[""],emt:[""],errASC:[""],errDSC:[""],num50:[""],num100:[""],den50:[""],den100:[""],emt13:[""]}),t.fb.group({carga:[""],emt:[""],errASC:[""],errDSC:[""],num50:[""],num100:[""],den50:[""],den100:[""],emt13:[""]}),t.fb.group({carga:[""],emt:[""],errASC:[""],errDSC:[""],num50:[""],num100:[""],den50:[""],den100:[""],emt13:[""]}),t.fb.group({carga:[""],emt:[""],errASC:[""],errDSC:[""],num50:[""],num100:[""],den50:[""],den100:[""],emt13:[""]}),t.fb.group({carga:[""],emt:[""],errASC:[""],errDSC:[""],num50:[""],num100:[""],den50:[""],den100:[""],emt13:[""]}),t.fb.group({carga:[""],emt:[""],errASC:[""],errDSC:[""],num50:[""],num100:[""],den50:[""],den100:[""],emt13:[""]}),t.fb.group({carga:[""],emt:[""],errASC:[""],errDSC:[""],num50:[""],num100:[""],den50:[""],den100:[""],emt13:[""]}),t.fb.group({carga:[""],emt:[""],errASC:[""],errDSC:[""],num50:[""],num100:[""],den50:[""],den100:[""],emt13:[""]})]),infoRepetibilidad:t.fb.array([t.fb.group({rep50num:[""],rep100num:[""],rep50den:[""],rep100den:[""],rep13den:[""],diferenciaUno:[""],diferenciaDos:[""],diferenciaTres:[""],diferenciaCuatro:[""],emt13den:[""]})])}),t.resumen=t.fb.group({basculaResumen:[],inspeccion_visual:["",r.k0.required],exactitud:["",r.k0.required],repetibilidad:["",r.k0.required],exentricidad:["",r.k0.required],ui:["",r.k0.required],prdfeco:["",r.k0.required],dictamen_final:["",r.k0.required],equipo_medicion:["",r.k0.required],observaciones:["",r.k0.required]}),t.infoPago=t.fb.group({cantidad:["",r.k0.required],desc:["",r.k0.required],costo:["",r.k0.required],importe:["",r.k0.required],importe2:["",r.k0.required],firma_cliente:[],firma_inspector:[],firma_apoto:[]}),t.dicamenFinal=t.fb.group({idUsuario:["",r.k0.required],nombreUsuario:["",r.k0.required],infoCliente:[[],r.k0.required],infoPago:[[],r.k0.required],infoVisuales:[[],r.k0.required],encuesta:[[],r.k0.required],infoBasculas:[[],r.k0.required],estudioMtro:[[],r.k0.required],infoResumen:[[],r.k0.required],firmaInspector:["",r.k0.required],firmaCliente:["",r.k0.required],firmaPa:["",r.k0.required]}),setTimeout((0,h.A)(function*(){(yield t.loadingController.create({message:"Cargando infocmaic\xf3n",duration:1e3})).present(),yield t.onSegementChanged({detail:{value:t.segment}})}),0)})()}get ejemplo1(){return this.estudioMtro.get("ejemplo1")}presentToast(t,n,o){var s=this;return(0,h.A)(function*(){yield(yield s.toastController.create({message:t,duration:1500,position:n,color:o})).present()})()}presentAlert(t){var n=this;return(0,h.A)(function*(){yield(yield n.alertController.create({message:t})).present()})()}convertirCanvasABase64(t){const n=document.getElementById(t);return n?n.toDataURL("image/png"):(console.error(`No se encontr\xf3 el canvas con id ${t}`),null)}enableDrawing(t){const n=document.getElementById(t),o=n.getContext("2d");if(!o)return void console.error(`No se pudo obtener el contexto del canvas ${t}`);n.width=n.offsetWidth,n.height=n.offsetHeight;let s=!1;n.addEventListener("mousedown",c=>{s=!0,o.beginPath(),o.moveTo(c.offsetX,c.offsetY)}),n.addEventListener("mousemove",c=>{s&&(o.lineTo(c.offsetX,c.offsetY),o.stroke())}),n.addEventListener("mouseup",()=>{s=!1,o.closePath()}),n.addEventListener("mouseleave",()=>{s=!1,o.closePath()}),n.addEventListener("touchstart",c=>{s=!0;const m=c.touches[0],d=n.getBoundingClientRect();o.beginPath(),o.moveTo(m.clientX-d.left,m.clientY-d.top)}),n.addEventListener("touchmove",c=>{if(s){const m=c.touches[0],d=n.getBoundingClientRect();o.lineTo(m.clientX-d.left,m.clientY-d.top),o.stroke()}}),n.addEventListener("touchend",()=>{s=!1,o.closePath()}),n.addEventListener("touchcancel",()=>{s=!1,o.closePath()}),o.strokeStyle="black",o.lineWidth=2}citaProgramada(t){console.log(t.detail.value),null!=t.detail.value&&(this.clienteInformacion.get("nombre_razon_social").setValue(t.detail.value.nombre_razon_social),this.clienteInformacion.get("rfc").setValue(t.detail.value.rfc),this.clienteInformacion.get("telefono").setValue(t.detail.value.telefono),this.clienteInformacion.get("Fecha").setValue(t.detail.value.fecha),this.clienteInformacion.get("tipo_servicio").setValue(t.detail.value.tipo_servicio),this.clienteInformacion.get("cp").setValue(t.detail.value.cp),this.clienteInformacion.get("giro_empresarial").setValue(t.detail.value.giro),this.clienteInformacion.get("colonia").setValue(t.detail.value.colonia),this.clienteInformacion.get("domicilio").setValue(t.detail.value.domicilio),this.clienteInformacion.get("num_dom").setValue(t.detail.value.num),this.clienteInformacion.get("municipio").setValue(t.detail.value.municipio),this.clienteInformacion.get("estado").setValue(t.detail.value.estado))}onSegementChanged(t){var n=this;return(0,h.A)(function*(){if(n.cd.detectChanges(),null!=t.detail&&(n.segment=t.detail.value),"infoClientes"===n.segment){const o=yield n.storageService.getValue("infoClientes").then(s=>s);null!=o&&(n.clienteInformacion.get("nombre_razon_social").setValue(o.nombre_razon_social),n.clienteInformacion.get("rfc").setValue(o.rfc),n.clienteInformacion.get("telefono").setValue(o.telefono),n.clienteInformacion.get("Fecha").setValue(o.Fecha),n.clienteInformacion.get("tipo_servicio").setValue(o.tipo_servicio),n.clienteInformacion.get("cp").setValue(o.cp),n.clienteInformacion.get("giro_empresarial").setValue(o.giro_empresarial),n.clienteInformacion.get("colonia").setValue(o.colonia),n.clienteInformacion.get("domicilio").setValue(o.domicilio),n.clienteInformacion.get("num_dom").setValue(o.num_dom),n.clienteInformacion.get("municipio").setValue(o.municipio),n.clienteInformacion.get("estado").setValue(o.estado))}else"Basculas"==n.segment?n.storageService.getValue("infoBasculas").then(o=>{null!=o&&(n.basculaInformacion.get("compromiso").setValue(o.compromiso),n.basculaInformacion.get("inspeccion").setValue(o.inspeccion),n.basculaInformacion.get("semestre").setValue(o.semestre),n.basculaInformacion.get("tipo_inspeccion").setValue(o.tipo_inspeccion),n.basculas=o.basculas)}):"InspeccionMetro"==n.segment?n.storageService.getValue("infoBasculas").then(o=>{null!=o&&(n.basculasMetro=o.basculas)}):"InspeccionVisual"==n.segment?(n.storageService.getValue("infoBasculas").then(o=>{null!=o&&(n.basculasVisual=o.basculas)}),n.storageService.getValue("inspeccionVisual").then(o=>{null!=o&&(n.storageInfoVisual=o)})):"Resumen"==n.segment?n.storageService.getValue("resumen").then(o=>{null!=o&&(n.storageInfoResumen=o)}):"Firma"==n.segment&&(setTimeout(()=>{n.enableDrawing("firmaCliente"),n.enableDrawing("firmaInspector"),n.enableDrawing("firmaApoyo")},0),n.storageService.getValue("infoPago").then(o=>{null!=o&&(n.infoPago.get("cantidad").setValue(o.cantidad),n.infoPago.get("desc").setValue(o.desc),n.infoPago.get("costo").setValue(o.costo),n.infoPago.get("importe").setValue(o.importe),n.infoPago.get("importe2").setValue(o.importe2))}))})()}borrarFirma(t){const n=document.getElementById(t),o=n.getContext("2d");o&&o.clearRect(0,0,n.width,n.height)}guardarFirmas(){const t=this.convertirCanvasABase64("firmaCliente"),n=this.convertirCanvasABase64("firmaInspector"),o=this.convertirCanvasABase64("firmaApoyo");t&&n&&o?(this.storageService.addValue("firmaClienteBase64",t),this.storageService.addValue("firmaInspectorBase64",n),this.storageService.addValue("firmaApoyoBase64",o)):console.error("Ocurri\xf3 un problema al convertir las firmas.")}infoClientes(){var t=this;return(0,h.A)(function*(){return t.citasService.getCitaProgramada().subscribe({next:n=>{t.citasProgramadas=n},error:n=>{console.error(n)}})})()}buscarClientes(){var t=this;return(0,h.A)(function*(){const n=yield t.modalController.create({component:te,cssClass:"my-custom-class-lista-clientes"});n.present();const{data:o,role:s}=yield n.onWillDismiss();"confirm"===s&&(t.clienteInformacion.get("nombre_razon_social").setValue(null!=o.nombre_razon_social?o.nombre_razon_social:""),t.clienteInformacion.get("rfc").setValue(null!=o.rfc?o.rfc:""),t.clienteInformacion.get("telefono").setValue(null!=o.telefono?o.telefono:""),t.clienteInformacion.get("Fecha").setValue(null!=o.fecha?o.fecha:""),t.clienteInformacion.get("tipo_servicio").setValue(null!=o.tipo_servicio?o.tipo_servicio:""),t.clienteInformacion.get("cp").setValue(null!=o.cp?o.cp:""),t.clienteInformacion.get("giro_empresarial").setValue(null!=o.giro?o.giro:""),t.clienteInformacion.get("colonia").setValue(null!=o.colonia?o.colonia:""),t.clienteInformacion.get("domicilio").setValue(null!=o.domicilio?o.domicilio:""),t.clienteInformacion.get("num_dom").setValue(null!=o.num_dom?o.num_dom:""),t.clienteInformacion.get("municipio").setValue(null!=o.municipio?o.municipio:""),t.clienteInformacion.get("estado").setValue(null!=o.estado?o.estado:""))})()}getinfoCliente(){var t=this;return(0,h.A)(function*(){const n=yield t.loadingController.create({message:"Guardando informaci\xf3n..."});if(n.present(),!t.clienteInformacion.valid)return t.presentToast("Todos los campos son obligatorios","bottom","warning"),void n.dismiss();t.storageService.addValue("infoClientes",t.clienteInformacion.value),n.dismiss(),t.presentToast("Informaci\xf3n del cliente guardada exitosamente","bottom","success"),t.segment="Basculas"})()}limpiarInfoCliente(){this.clienteInformacion.reset()}limpiarFormularioBasculas(){this.basculaInformacion.reset(),this.basculas=[]}getBascula(){console.log(this.registroBasculas.value),this.registroBasculas.valid?(this.basculas.push(this.registroBasculas.value),this.registroBasculas.reset()):this.presentAlert("Favor de completar todos los campos para generar un registro de la bascula")}clasifiacionbasculas(){const t=this.registroBasculas.get("alc_max").value,n=this.registroBasculas.get("divi_min").value,o=/^(\d+\/?)+$/;if(!o.test(t)||!o.test(n))return void this.registroBasculas.get("clase").setValue("");const s=t.split("/").map(Number),c=n.split("/").map(Number);if(s.length!==c.length)return void this.registroBasculas.get("clase").setValue("");const m=[];for(let f=0;f<s.length;f++)m.push(1e3*s[f]/c[f]);let d="4";for(const f of m)f>1e3&&(d="3"),f>1e4&&(d="2"),f>1e5&&(d="1");const _=20*Math.min(...c);this.registroBasculas.get("clase").setValue(d),console.log(`Clase asignada: ${d}`),console.log(`Peso m\xednimo: ${_} g`)}eliminarBascula(t){this.basculas.splice(t,1)}guardarInformacionBasculas(){this.basculaInformacion.get("basculas").setValue(this.basculas),this.basculaInformacion.valid?(this.storageService.addValue("infoBasculas",this.basculaInformacion.value),this.presentAlert("Informaci\xf3n guardada exitosamente")):this.presentAlert("Todos los campos son obligatorios para generar un registro de las basculas")}infoBasculaMtro(t){var n=this;return(0,h.A)(function*(){const o=t.detail.value;if(!o)return void console.error("No se seleccion\xf3 una b\xe1scula.");const{alc_max:s,divi_min:c,clase:m}=o,d=s.split("/").map(Number),_=c.split("/").map(Number),p=(yield n.storageService.getValue("infoBasculas").then(k=>k)).tipo_inspeccion,F=n.estudioMtro.get("infoRepetibilidad").at(0),b="Inicial"===p?1:"Peri\xf3dica"===p?2:"Extraordinaria"===p?3:1,T=20*_[0]/1e3,R=d[d.length-1];let N=[],I=[];1===d.length?(({cargas:N,emts:I}=n.generarCargasUnaDivision(T,R,m,_[0],b)),F.get("rep50den").setValue(.5*_[0]),F.get("rep100den").setValue(_[0])):2===d.length?(({cargas:N,emts:I}=n.generarCargasDosDivisiones(T,d,_,m,b)),F.get("rep50den").setValue(.5*_[1]),F.get("rep100den").setValue(_[1])):3===d.length&&(({cargas:N,emts:I}=n.generarCargasTresDivisiones(T,d,_,m,b)),F.get("rep50den").setValue(.5*_[2]),F.get("rep100den").setValue(_[2]));const P=[];for(let k=1;k<I.length;k++)I[k]!==I[k-1]&&P.push(k);const A=P.length,M=[0];if(A>0){const k=Math.ceil(9/(A+1));for(let V=1;V<=A;V++){const O=V*k;O<9&&M.push(O)}}M.push(9);const be=new Set(M),$=n.estudioMtro.get("ejemplo1");for(let k=0;k<10;k++){k>=$.length&&$.push(n.fb.group({carga:[""],emt:[""]}));const V=$.at(k);be.has(k)?(V.get("carga").setValue(N[k]),V.get("emt").setValue(I[k])):(V.get("carga").setValue(""),V.get("emt").setValue(""))}n.estudioMtro.get("alc_max").setValue(s),n.estudioMtro.get("divi_max").setValue(c),n.estudioMtro.get("clase_ex").setValue(m),n.estudioMtro.get("precarga").setValue(R),F.get("rep50num").setValue(.5*R),F.get("rep100num").setValue(R),F.get("rep13den").setValue(Math.round(R/3)),console.log("Cargas calculadas (kg):",N),console.log("EMTs calculados (g):",I),console.log("Indices de cambio de EMT:",P),console.log("Posiciones asignadas:",M)})()}generarCargasUnaDivision(t,n,o,s,c){const m=[],d=[],_=(n-t)/9;for(let f=0;f<10;f++){let p,g;0===f?p=t:9===f?p=n:(p=t+_*f,p=this.redondearCarga(p,n,!1)),9!==f&&m.includes(p)&&(p+=n<=1e3?1:10),m.push(p),g=9===f?1.5*s*c:this.calcularEMT(p,s,o,c),d.push(g)}return{cargas:m,emts:d}}generarCargasDosDivisiones(t,n,o,s,c){const m=[],d=[],_=(n[0]-t)/5,f=(n[1]-n[0])/4;m.push(t);for(let p=1;p<=5;p++){const F=this.redondearCarga(t+_*p,n[1],!1);m.includes(F)?m.push(F+(n[1]<=1e3?1:10)):m.push(F)}for(let p=1;p<=4;p++){const F=this.redondearCarga(n[0]+f*p,n[1],!1);m.includes(F)?m.push(F+(n[1]<=1e3?1:10)):m.push(F)}return m.forEach(p=>{d.push(this.calcularEMT(p,p<=n[0]?o[0]:o[1],s,c))}),{cargas:m,emts:d}}generarCargasTresDivisiones(t,n,o,s,c){const m=[],d=[],_=(n[0]-t)/3,f=(n[1]-n[0])/3,p=(n[2]-n[1])/3;m.push(t);for(let g=1;g<=3;g++){const b=this.redondearCarga(t+_*g,n[2],!1);m.includes(b)?m.push(b+(n[2]<=1e3?1:10)):m.push(b)}for(let g=1;g<=3;g++){const b=this.redondearCarga(n[0]+f*g,n[2],!1);m.includes(b)?m.push(b+(n[2]<=1e3?1:10)):m.push(b)}for(let g=1;g<=3;g++){const b=this.redondearCarga(n[1]+p*g,n[2],!1);m.includes(b)?m.push(b+(n[2]<=1e3?1:10)):m.push(b)}return m.forEach(g=>{d.push(this.calcularEMT(g,g<=n[0]?o[0]:g<=n[1]?o[1]:o[2],s,c))}),{cargas:m,emts:d}}redondearCarga(t,n,o=!1){return o?t:t<5?Math.round(2*t)/2:n<=1e3?5*Math.round(t/5):10*Math.round(t/10)}calcularEMT(t,n,o,s){let c,m,d,_,f,p;return"2"===o?(c=5e3*n,m=2e4*n,d=1e5*n,_=.5*n*s,f=1*n*s,p=1.5*n*s):"3"===o?(c=500*n,m=2e3*n,d=1e4*n,_=.5*n*s,f=1*n*s,p=1.5*n*s):"4"===o&&(c=50*n,m=200*n,d=1e3*n,_=.5*n*s,f=1*n*s,p=1.5*n*s),1e3*t<c?_:1e3*t<m?f:p}limpiarEstudioMetro(){this.estudioMtro.reset()}getestudioMetro(){var t=this;return(0,h.A)(function*(){const n=yield t.loadingController.create({message:"Cargando estudio metrol\xf3gico..."});n.present(),t.estudioMtro.valid?(t.storageService.addValue("estudioMtro",t.estudioMtro.value),n.dismiss()):(t.presentAlert("Todos los campos son obligatorios"),n.dismiss())})()}getInspeccionVisual(){var t=this;return(0,h.A)(function*(){const n=yield t.loadingController.create({message:"Guardando informaci\xf3n..."});if(n.present(),!t.inspeccionVisual.valid)return t.presentAlert("Todos los campos son obligatorios"),void n.dismiss();t.storageService.addValue("inspeccionVisual",t.inspeccionVisual.value),n.dismiss(),t.presentAlert("Informaci\xf3n guardada exitosamente")})()}limpiarInfoVisual(){this.inspeccionVisual.reset(),this.storageInfoVisual=[]}loadInfoVisuales(t){const n=t.detail.value;if(console.log(n),n){var o=this.storageInfoVisual;if(0!=o.length){const s=(o=[o]).find(c=>c.basculaInspeccion.alcance_max==n.alcance_max&&c.basculaInspeccion.marca==n.marca&&c.basculaInspeccion.modelo==n.modelo&&c.basculaInspeccion.no_serie==n.no_serie&&c.basculaInspeccion.tipo_bascula==n.tipo_bascula&&c.basculaInspeccion.clase==n.clase&&c.basculaInspeccion.divi_max==n.divi_max);s&&(this.inspeccionVisual.get("bascula").setValue(n),this.inspeccionVisual.get("IV1").setValue(s.IV1),this.inspeccionVisual.get("IV2").setValue(s.IV2),this.inspeccionVisual.get("IV3").setValue(s.IV3),this.inspeccionVisual.get("IV4").setValue(s.IV4),this.inspeccionVisual.get("IV5").setValue(s.IV5),this.inspeccionVisual.get("IV6").setValue(s.IV6),this.inspeccionVisual.get("IV7").setValue(s.IV7),this.inspeccionVisual.get("IV8").setValue(s.IV8),this.inspeccionVisual.get("IV9").setValue(s.IV9),this.inspeccionVisual.get("IV10").setValue(s.IV10),this.inspeccionVisual.get("IV11").setValue(s.IV11),this.inspeccionVisual.get("IV12").setValue(s.IV12),this.inspeccionVisual.get("IV13").setValue(s.IV13),this.inspeccionVisual.get("ObervacionesInspeccionVisual").setValue(s.ObervacionesInspeccionVisual))}else 0==o.length&&"E"==n.tipo_bascula&&(this.inspeccionVisual.get("bascula").setValue(n),this.inspeccionVisual.get("IV1").setValue("C"),this.inspeccionVisual.get("IV2").setValue("C"),this.inspeccionVisual.get("IV3").setValue("C"),this.inspeccionVisual.get("IV4").setValue("C"),this.inspeccionVisual.get("IV5").setValue("C"),this.inspeccionVisual.get("IV6").setValue("C"),this.inspeccionVisual.get("IV7").setValue("C"),this.inspeccionVisual.get("IV8").setValue("C"),this.inspeccionVisual.get("IV9").setValue("C"),this.inspeccionVisual.get("IV10").setValue("C"),this.inspeccionVisual.get("IV11").setValue("C"),this.inspeccionVisual.get("IV12").setValue("C"),this.inspeccionVisual.get("IV13").setValue("C"),this.inspeccionVisual.get("ObervacionesInspeccionVisual").setValue("CUMPLE"))}}encuestaSatifaccion(){var t=this;return(0,h.A)(function*(){if(t.infoPago.valid){t.storageService.addValue("infoPago",t.infoPago.value),t.guardarFirmas();const n=yield t.modalController.create({component:j,cssClass:"modalCitas"});n.present(),n.onDidDismiss().then(o=>{navigator.onLine?t.subirInformacion():t.presentToast("No hay conexi\xf3n WiFi, sube tu reporte cuando tengas internet","bottom","warning")})}})()}subirInformacion(){var t=this;return(0,h.A)(function*(){const n=yield t.storageService.getValue("infoClientes"),o=yield t.storageService.getValue("infoPago"),s=yield t.storageService.getValue("inspeccionVisual"),c=yield t.storageService.getValue("encuesta_satisfaccion"),m=yield t.storageService.getValue("infoBasculas"),d=yield t.storageService.getValue("estudioMtro"),_=yield t.storageService.getValue("resumen"),f=yield t.storageService.getValue("firmaInspectorBase64"),p=yield t.storageService.getValue("firmaClienteBase64"),g=yield t.storageService.getValue("firmaApoyoBase64"),F=yield t.storageService.getValue("usuario");if(null!=n&&null!=o&&null!=s&&null!=c&&null!=m&&null!=d&&null!=_){if(t.dicamenFinal.get("infoCliente").setValue(n),t.dicamenFinal.get("infoPago").setValue(o),t.dicamenFinal.get("infoVisuales").setValue(s),t.dicamenFinal.get("encuesta").setValue(c),t.dicamenFinal.get("infoBasculas").setValue(m),t.dicamenFinal.get("estudioMtro").setValue(d),t.dicamenFinal.get("infoResumen").setValue(_),t.dicamenFinal.get("idUsuario").setValue(F.id),t.dicamenFinal.get("nombreUsuario").setValue(F.usuario),t.dicamenFinal.get("firmaInspector").setValue(f),t.dicamenFinal.get("firmaCliente").setValue(p),t.dicamenFinal.get("firmaPa").setValue(g),t.dicamenFinal.valid)try{t.dictamenSerivce.addReporte(t.dicamenFinal.value).then(b=>{t.presentToast("Reporte guardado correctamente","bottom","success")})}catch(b){t.presentToast("Error al guardar el reporte:"+b.message,"bottom","danger")}}else console.log("No hay informaci\xf3n para guardar por ahora")})()}infoBasculaResumen(t){if(this.basculaResumen=t.detail.value,console.log(t.detail.value),this.basculaResumen){const n=t.detail.value,s=[this.storageInfoResumen].find(c=>c.basculaResumen.alcance_max==n.alcance_max&&c.basculaResumen.marca==n.marca&&c.basculaResumen.modelo==n.modelo&&c.basculaResumen.clase==n.clase&&c.basculaResumen.tipo_bascula==n.tipo_bascula&&c.basculaResumen.divi_max==n.divi_max&&c.basculaResumen.no_serie==n.no_serie);s&&(this.resumen.get("inspeccion_visual").setValue(s.inspeccion_visual),this.resumen.get("exactitud").setValue(s.exactitud),this.resumen.get("repetibilidad").setValue(s.repetibilidad),this.resumen.get("exentricidad").setValue(s.exentricidad),this.resumen.get("ui").setValue(s.ui),this.resumen.get("prdfeco").setValue(s.prdfeco),this.resumen.get("dictamen_final").setValue(s.dictamen_final),this.resumen.get("equipo_medicion").setValue(s.equipo_medicion),this.resumen.get("observaciones").setValue(s.observaciones))}}getDictamenBascula(){var t=this;return(0,h.A)(function*(){const n=yield t.loadingController.create({message:"Guardando la informaci\xf3n..."});n.present(),t.resumen.valid?(t.storageService.addValue("resumen",t.resumen.value),t.presentAlert("Datos guardados correctamente"),n.dismiss()):(n.dismiss(),t.presentAlert("Todos los campos son obligatorios"))})()}imprimirReporte(){var t=this;return(0,h.A)(function*(){const n=yield t.storageService.getValue("infoClientes"),o=yield t.storageService.getValue("infoPago"),s=yield t.storageService.getValue("inspeccionVisual"),c=yield t.storageService.getValue("encuesta_satisfaccion"),m=yield t.storageService.getValue("infoBasculas"),d=yield t.storageService.getValue("estudioMtro"),_=yield t.storageService.getValue("resumen"),f=yield t.storageService.getValue("firmaInspectorBase64"),p=yield t.storageService.getValue("firmaClienteBase64"),g=yield t.storageService.getValue("firmaApoyoBase64"),F=yield t.storageService.getValue("usuario");t.generarReporteService.generarCliente(n,o,s,c,m,d,_,f,p,g,F).then(b=>{console.log(b)})})()}}return(a=u).\u0275fac=function(t){return new(t||a)(e.rXU(e.gRc),e.rXU(r.ok),e.rXU(l.Xi),e.rXU(S.n),e.rXU(l.hG),e.rXU(q.i),e.rXU(l.W3),e.rXU(l.K_),e.rXU(ne.M),e.rXU(oe.z))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-generar-reporte-desktop"]],viewQuery:function(t,n){if(1&t&&e.GBs(ie,5),2&t){let o;e.mGM(o=e.lsd())&&(n.canvases=o.first)}},standalone:!0,features:[e.aNF],decls:29,vars:7,consts:[[3,"ionChange","value"],["value","infoClientes"],["value","Basculas"],["value","InspeccionVisual"],["value","InspeccionMetro"],["value","Resumen"],["value","Firma"],[4,"ngIf"],["cancel-button-text","Borrar","placeholder","Busca un cliente","showCancelButton","focus",3,"click","debounce"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-8"],[1,"form-floating","mb-3"],["type","text","id","floatingnombre_razon_social","formControlName","nombre_razon_social",1,"form-control"],["for","floatingnombre_razon_social"],[1,"col-md-4"],["type","text","id","floatingrfc","formControlName","rfc",1,"form-control"],["for","floatingrfc"],["type","text","id","floatingtelefono","formControlName","telefono",1,"form-control"],["for","floatingtelefono"],["type","text","id","floatingInputfecha","formControlName","Fecha",1,"form-control"],["for","floatingInputfecha"],["type","text","id","floatingInputtipo_servicio","formControlName","tipo_servicio",1,"form-control"],["for","floatingInputtipo_servicio"],[1,"col-md-6"],["type","number","id","floatingInputcp","formControlName","cp",1,"form-control"],["for","floatingInputcp"],["type","text","id","floatingInputgiro","formControlName","giro_empresarial",1,"form-control"],["for","floatingInputgiro"],[1,"col-md-5"],["type","text","id","floatingInputdomicilio","formControlName","domicilio",1,"form-control"],["for","floatingInputdomicilio"],[1,"col-md-2"],["type","number","id","floatingInputnum","formControlName","num_dom",1,"form-control"],["for","floatingInputnum"],["type","text","id","floatingInputcolonia","formControlName","colonia",1,"form-control"],["for","floatingInputcolonia"],["type","text","id","floatingInputmunicipio","formControlName","municipio",1,"form-control"],["for","floatingInputmunicipio"],["type","text","id","floatingInputestado","formControlName","estado",1,"form-control"],["for","floatingInputestado"],[1,"col-md-6","d-grid","gap-2"],["expand","block","fill","clear",1,"btn","btn-secondary",3,"click"],["type","submit","expand","block","fill","clear",1,"btn","btn-success"],[3,"formGroup"],[1,"col-md-3"],["type","text","id","floatingtelefono","formControlName","compromiso",1,"form-control"],["type","text","id","floatingInputfecha","formControlName","inspeccion",1,"form-control"],["fill","outline","formControlName","tipo_inspeccion","placeholder","Tipo de inspecci\xf3n"],["value","Inicial"],["value","Peri\xf3dica"],["value","Extraordinaria"],["fill","outline","formControlName","semestre","placeholder","Semestre"],["value","Primero"],["value","Segundo"],[1,"p-2","text-center"],[1,"row","g-3"],["type","text","id","marca","formControlName","marca",1,"form-control"],["for","marca"],["type","text","id","modelo","formControlName","modelo",1,"form-control"],["for","modelo"],["type","text","id","no_serie","formControlName","no_serie",1,"form-control"],["for","no_serie"],["type","text","id","clase","formControlName","clase",1,"form-control"],["for","clase"],[1,"col-md-4","mt-4"],["aria-label","Large select example","formControlName","tipo_bascula",1,"form-select","form-select-lg","mb-3"],["value",""],["value","M"],["value","E"],["value","H"],["type","text","id","alc_max","formControlName","alc_max","placeholder","Ej: 2/4/20",1,"form-control",3,"input"],["for","alc_max"],["type","text","id","divi_min","formControlName","divi_min","placeholder","Ej: 1/2/5",1,"form-control",3,"input"],["for","divi_min"],[1,"col-md-12","text-center","align-self-end"],["type","submit","expand","block","color","primary"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"row","text-center"],["expand","block","fill","clear",1,"btn","btn-success",3,"click"],["expand","block","fill","clear",1,"btn","btn-danger","btn-sm",3,"click"],[1,"text-center"],["placeholder","Seleccione a una bascula","fill","outline","formControlName","basculaInspeccion",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"table"],["fill","outline","formControlName","IV1"],["value","C"],["value","NC"],["value","NA"],["fill","outline","formControlName","IV2"],["fill","outline","formControlName","IV3"],["fill","outline","formControlName","IV4"],["fill","outline","formControlName","IV5"],["fill","outline","formControlName","IV6"],["fill","outline","formControlName","IV7"],["fill","outline","formControlName","IV8"],["fill","outline","formControlName","IV9"],["fill","outline","formControlName","IV10"],["fill","outline","formControlName","IV11"],["fill","outline","formControlName","IV12"],["fill","outline","formControlName","IV13"],["label","Observaciones del inspector","labelPlacement","floating","fill","outline","placeholder","Observaciones del inspector","formControlName","ObervacionesInspeccionVisual",3,"autoGrow"],["fill","clear",1,"btn","btn-secondary"],["type","submit","fill","clear",1,"btn","btn-success"],[3,"value"],["placeholder","Seleccione una b\xe1scula","fill","outline",3,"ionChange"],["type","text","id","alc_max","formControlName","alc_max",1,"form-control"],["type","text","id","divi_max","formControlName","divi_max",1,"form-control"],["for","divi_max"],["type","text","id","clase_ex","formControlName","clase_ex",1,"form-control"],["for","clase_ex"],["type","text","id","precarga","formControlName","precarga",1,"form-control"],["for","precarga"],["formArrayName","infoRepetibilidad"],[3,"formGroupName"],["type","number","formControlName","rep50num",1,"form-control"],["type","number","formControlName","rep100num",1,"form-control"],["type","number","formControlName","rep50den",1,"form-control"],["type","number","formControlName","rep100den",1,"form-control"],["type","number","formControlName","rep13den",1,"form-control"],["type","number","formControlName","diferenciaUno",1,"form-control"],["type","number","formControlName","diferenciaDos",1,"form-control"],["type","number","formControlName","diferenciaTres",1,"form-control"],["type","number","formControlName","diferenciaCuatro",1,"form-control"],["type","number","formControlName","emt13den",1,"form-control"],[1,"col-md-12"],["formArrayName","ejemplo1"],[3,"formGroupName",4,"ngFor","ngForOf"],["label","Observaciones del inspector","labelPlacement","floating","fill","outline","placeholder","Observaciones del inspector","formControlName","observaciones",3,"autoGrow"],[1,"row","text-center","m-3"],["fill","clear",1,"btn","btn-secondary",3,"click"],["type","number","formControlName","carga","step","0.5","placeholder","-",1,"form-control"],["class","error",4,"ngIf"],["type","number","formControlName","emt","placeholder","-",1,"form-control"],["type","number","formControlName","errASC","placeholder","-",1,"form-control"],["type","number","formControlName","errDSC","placeholder","-",1,"form-control"],["type","number","formControlName","num50","placeholder","-",1,"form-control"],["type","number","formControlName","num100","placeholder","-",1,"form-control"],["type","number","formControlName","den50","placeholder","-",1,"form-control"],["type","number","formControlName","den100","placeholder","-",1,"form-control"],["type","number","formControlName","emt13","placeholder","-",1,"form-control"],[1,"error"],["placeholder","Seleccione a una bascula","fill","outline","formControlName","basculaResumen",3,"ionChange"],["aria-label",".form-select-lg","formControlName","inspeccion_visual",1,"form-select","form-select-lg","mt-1"],["value","","selected",""],["value","Cumple"],["value","NoCumple"],["aria-label",".form-select-lg","formControlName","exactitud",1,"form-select","form-select-lg","mt-1"],["aria-label",".form-select-lg","formControlName","repetibilidad",1,"form-select","form-select-lg","mt-1"],["aria-label",".form-select-lg","formControlName","exentricidad",1,"form-select","form-select-lg","mt-1"],["type","text","id","floatingtelefono","formControlName","ui",1,"form-control"],["type","text","id","floatingtelefono","formControlName","prdfeco",1,"form-control"],["aria-label",".form-select-lg","formControlName","dictamen_final",1,"form-select","form-select-lg","mt-1"],["aria-label",".form-select-lg","formControlName","equipo_medicion",1,"form-select","form-select-lg","mt-1"],["value","equipo_1"],["type","number","id","floatingInput","formControlName","cantidad",1,"form-control"],["type","text","id","floatingInput","formControlName","desc",1,"form-control"],["type","number","id","floatingInput","formControlName","costo",1,"form-control"],["type","number","id","floatingInput","formControlName","importe",1,"form-control"],["type","number","id","floatingInput","formControlName","importe2",1,"form-control"],[2,"margin-left","90px","overflow","hidden"],[1,"row","text-center",2,"margin-left","0%"],[1,"col-md-3","border","border-dark",2,"height","250px","position","relative"],["id","firmaCliente",2,"width","100%","height","100%","position","absolute","top","0","left","0"],[1,"col-md-1",2,"height","250px"],["id","firmaInspector",2,"width","100%","height","100%","position","absolute","top","0","left","0"],["id","firmaApoyo",2,"width","100%","height","100%","position","absolute","top","0","left","0"],[1,"col-md-3","border"],[1,"btn","btn-danger","mt-2",3,"click"],[1,"col-md-1"],[1,"row","text-center","mt-4"],["fill","clear",1,"btn","btn-success",3,"click"],["fill","clear",1,"btn","btn-info",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-segment",0),e.bIt("ionChange",function(s){return n.onSegementChanged(s)}),e.j41(3,"ion-segment-button",1)(4,"ion-label"),e.EFF(5,"Informaci\xf3n cliente"),e.k0s()(),e.j41(6,"ion-segment-button",2)(7,"ion-label"),e.EFF(8,"Basculas"),e.k0s()(),e.j41(9,"ion-segment-button",3)(10,"ion-label"),e.EFF(11,"Inspecci\xf3n Visual"),e.k0s()(),e.j41(12,"ion-segment-button",4)(13,"ion-label"),e.EFF(14,"I. Metrol\xf3gicas"),e.k0s()(),e.j41(15,"ion-segment-button",5)(16,"ion-label"),e.EFF(17,"Dictamen"),e.k0s()(),e.j41(18,"ion-segment-button",6)(19,"ion-label"),e.EFF(20,"Firma"),e.k0s()()(),e.nrm(21,"hr"),e.k0s(),e.j41(22,"ion-card-content"),e.DNE(23,ae,76,2,"ng-container",7)(24,se,110,3,"ng-container",7)(25,ce,156,3,"ng-container",7)(26,pe,127,6,"ng-container",7)(27,ge,113,10,"ng-container",7)(28,_e,76,1,"ng-container",7),e.k0s()()),2&t&&(e.R7$(2),e.Y8G("value",n.segment),e.R7$(21),e.Y8G("ngIf","infoClientes"==n.segment),e.R7$(),e.Y8G("ngIf","Basculas"==n.segment),e.R7$(),e.Y8G("ngIf","InspeccionVisual"==n.segment),e.R7$(),e.Y8G("ngIf","InspeccionMetro"==n.segment),e.R7$(),e.Y8G("ngIf","Resumen"==n.segment),e.R7$(),e.Y8G("ngIf","Firma"==n.segment))},dependencies:[l.bv,l.Jm,l.b_,l.I9,l.ME,l.$w,l.he,l.S1,l.Gp,l.eP,l.Nm,l.Ip,l.nc,l.su,l.Je,l.Gw,v.MD,v.Sq,v.bT,r.X1,r.qT,r.xH,r.y7,r.me,r.Q0,r.wz,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8],styles:['@charset "UTF-8";.texto-visual[_ngcontent-%COMP%]{text-align:center}canvas[_ngcontent-%COMP%]{border:2px solid #000;display:block;margin:0 auto}.error[_ngcontent-%COMP%]{color:red}ion-input[_ngcontent-%COMP%]{width:100%}.asignada[_ngcontent-%COMP%]{background-color:#e0ffe0}.vacia[_ngcontent-%COMP%]{background-color:#fff}']}),u})();const Fe=[{path:"",component:(()=>{var a;class u{constructor(t){this.cd=t,this.segment="iCliente"}ngOnInit(){}onSegementChanged(t){this.cd.detectChanges(),this.segment=t.detail.value}}return(a=u).\u0275fac=function(t){return new(t||a)(e.rXU(e.gRc))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-reportes"]],decls:6,vars:1,consts:[["titulo","Reportes"],[3,"fullscreen"],[1,"solo-desktop"],[1,"vision-dispositivos"]],template:function(t,n){1&t&&(e.nrm(0,"app-menu",0),e.j41(1,"ion-content",1)(2,"div",2),e.nrm(3,"app-generar-reporte-desktop"),e.k0s(),e.j41(4,"div",3),e.nrm(5,"app-generar-reporte-celu"),e.k0s()()),2&t&&(e.R7$(),e.Y8G("fullscreen",!0))},dependencies:[l.W9,G.Z,E,L],styles:["ion-content[_ngcontent-%COMP%]::part(background){background:#ebebeb}ion-card[_ngcontent-%COMP%]{border-radius:0}@media screen and (max-width: 767px){.solo-desktop[_ngcontent-%COMP%]{display:none;padding:5%}}@media screen and (min-width: 768px){.vision-dispositivos[_ngcontent-%COMP%]{display:none}.solo-desktop[_ngcontent-%COMP%]{padding:2%}}"]}),u})()}];let he=(()=>{var a;class u{}return(a=u).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[x.iI.forChild(Fe),x.iI]}),u})(),Ce=(()=>{var a;class u{}return(a=u).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[v.MD,r.YN,l.bv,he,G.Z,E,L]}),u})()},8123:(X,y,C)=>{C.d(y,{i:()=>G});var v=C(9967),r=C(3273),l=C(3953),x=C(1626),e=C(6335);let G=(()=>{var E;class h{constructor(j,D,B){this.http=j,this.firestore=D,this.auth=B}getInformacion(){return this.http.get("assets/resultado.json")}ingresarInfo(j){return(0,r.gS)((0,v.rJ)(this.firestore,"infoClientes"),j)}organizarInformacion(){return this.http.get("assets/resultado.json")}}return(E=h).\u0275fac=function(j){return new(j||E)(l.KVO(x.Qq),l.KVO(v._7),l.KVO(e.Nj))},E.\u0275prov=l.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),h})()}}]);