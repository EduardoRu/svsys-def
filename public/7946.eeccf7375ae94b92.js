"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7946],{8505:(C,h,a)=>{a.d(h,{Z:()=>d});var u=a(177),l=a(4341),s=a(305),r=a(7604),e=a(3953),g=a(6761);let d=(()=>{var m;class p{constructor(i,n){this.router=i,this.auth=n}ngOnInit(){}rToControlInformacion(){this.router.navigate(["/control-informacion"],{replaceUrl:!0})}rToAdministracionCuentas(){this.router.navigate(["/administracion-cuentas"],{replaceUrl:!0})}rToReportes(){this.router.navigate(["/reportes"],{replaceUrl:!0})}rToHistoriaReportes(){this.router.navigate(["/historia-reportes"],{replaceUrl:!0})}rToPanelControl(){this.router.navigate(["/panel-control"],{replaceUrl:!0})}rToMiPerfil(){this.router.navigate(["/mi-perfil"],{replaceUrl:!0})}logout(){this.auth.logout(),this.router.navigate(["/login"],{replaceUrl:!0})}}return(m=p).\u0275fac=function(i){return new(i||m)(e.rXU(s.Ix),e.rXU(g.u))},m.\u0275cmp=e.VBU({type:m,selectors:[["app-menu"]],inputs:{titulo:"titulo"},standalone:!0,features:[e.aNF],decls:39,vars:1,consts:[["contentId","main-content"],[2,"--background","#ffffff"],[1,"text-center","pt-5"],["src","/assets/logo_bg1.png","alt","","srcset","",2,"max-width","50%"],[1,"mt-3",2,"color","white"],[2,"background","#ffffff"],["lines","none","slot","header","color","light","button","",3,"click"],["lines","none","slot","header","color","light","button","",1,"pt-1",3,"click"],[2,"background-color","#ffffff"],[1,"d-grid","gap-2"],["type","button","id","cerrar-sesion",1,"btn","btn-danger",3,"click"],["id","main-content"],[2,"--background","#211F20","color","white"],["slot","start"],["autoHide","false"],[2,"text-align","center"],["slot","end"],["size","large",3,"click"],["slot","icon-only","name","person-circle-outline"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"ion-menu",0)(2,"ion-content",1)(3,"div",2),e.nrm(4,"img",3),e.j41(5,"h5",4)(6,"b"),e.EFF(7,"Administrador"),e.k0s()()(),e.j41(8,"ion-list",5)(9,"ion-item",6),e.bIt("click",function(){return n.rToPanelControl()}),e.j41(10,"ion-label"),e.EFF(11,"Panel de Control"),e.k0s()(),e.j41(12,"ion-item",7),e.bIt("click",function(){return n.rToReportes()}),e.j41(13,"ion-label"),e.EFF(14,"Reportes"),e.k0s()(),e.j41(15,"ion-item",7),e.bIt("click",function(){return n.rToHistoriaReportes()}),e.j41(16,"ion-label"),e.EFF(17,"Historial de Reportes"),e.k0s()(),e.j41(18,"ion-item",7),e.bIt("click",function(){return n.rToControlInformacion()}),e.j41(19,"ion-label"),e.EFF(20,"Control de Informaci\xf3n"),e.k0s()(),e.j41(21,"ion-item",7),e.bIt("click",function(){return n.rToAdministracionCuentas()}),e.j41(22,"ion-label"),e.EFF(23,"Cuentas"),e.k0s()()()(),e.j41(24,"ion-footer",8)(25,"div",9)(26,"button",10),e.bIt("click",function(){return n.logout()}),e.EFF(27,"Cerrar Sesi\xf3n"),e.k0s()()()(),e.j41(28,"ion-header",11)(29,"ion-toolbar",12)(30,"ion-buttons",13),e.nrm(31,"ion-menu-button",14),e.k0s(),e.j41(32,"ion-text",15)(33,"h4")(34,"b"),e.EFF(35),e.k0s()()(),e.j41(36,"ion-buttons",16)(37,"ion-button",17),e.bIt("click",function(){return n.rToMiPerfil()}),e.nrm(38,"ion-icon",18),e.k0s()()()()()),2&i&&(e.R7$(35),e.JRh(n.titulo))},dependencies:[r.bv,r.Jm,r.QW,r.W9,r.M0,r.eU,r.iq,r.uz,r.he,r.nf,r.oS,r.MC,r.IO,r.ai,u.MD,l.YN,l.X1,s.iI],styles:['@charset "UTF-8";ion-menu[_ngcontent-%COMP%]::part(container){--background: #757374}ion-item[_ngcontent-%COMP%]{--background-color: #c0c0c0;--color: #c0c0c0;--border-color: #c0c0c0;--border-width: 2px;--detail-icon-color: white;--detail-icon-opacity: 1;--detail-icon-font-size: 20px}.cerrar-sesion-toolbar[_ngcontent-%COMP%]{--background: #d6282e;transition:background-color .4s ease;cursor:pointer}.cerrar-sesion-toolbar[_ngcontent-%COMP%]:hover{--background: rgba(151, 43, 43, .692)}#cerrar-sesion[_ngcontent-%COMP%]{color:#fff;transition:color .3s ease}']}),p})()},7946:(C,h,a)=>{a.r(h),a.d(h,{ControlInformacionPageModule:()=>n});var u=a(177),l=a(4341),s=a(7604),r=a(305),e=a(3953),g=a(8505);function d(o,c){1&o&&e.nrm(0,"ion-datetime",18)}function m(o,c){1&o&&e.nrm(0,"ion-datetime",19)}const t=[{path:"",component:(()=>{var o;class c{constructor(){}ngOnInit(){}}return(o=c).\u0275fac=function(_){return new(_||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["app-control-informacion"]],decls:39,vars:5,consts:[["titulo","Control de informaci\xf3n"],[3,"fullscreen"],[1,"m-5"],[2,"background-color","#211F20"],[1,"text-center",2,"color","white"],["fixed",""],["size","9"],["placeholder","BUSCAR INFORMIAC\xd3N POR NOMBRE O RAZ\xd3N SOCIAL","inputmode","decimal","type","decimal","showCancelButton","always",1,"pt-3",3,"debounce"],["placeholder","BUSCAR INFORMACI\xd3N POR EQUIPO","inputmode","decimal","type","decimal","showCancelButton","always",3,"debounce"],["size","3"],[1,"text-center"],[1,"pt-1"],["datetime","datetimeIni"],[3,"keepContentsMounted"],[1,"pt-4"],["datetime","datetimeFin"],[1,"table"],["scope","col"],["presentation","date","id","datetimeIni"],["presentation","date","id","datetimeFin"]],template:function(_,M){1&_&&(e.nrm(0,"app-menu",0),e.j41(1,"ion-content",1)(2,"ion-card",2)(3,"ion-card-header",3)(4,"ion-card-title",4),e.EFF(5," LISTA DE REPORTES "),e.k0s(),e.j41(6,"ion-card-subtitle")(7,"ion-grid",5)(8,"ion-row")(9,"ion-col",6),e.nrm(10,"ion-searchbar",7)(11,"ion-searchbar",8),e.k0s(),e.j41(12,"ion-col",9)(13,"div")(14,"h5",10),e.EFF(15,"Rango de fechas"),e.k0s()(),e.j41(16,"div",11),e.nrm(17,"ion-datetime-button",12),e.j41(18,"ion-modal",13),e.DNE(19,d,1,0,"ng-template"),e.k0s()(),e.j41(20,"div",14),e.nrm(21,"ion-datetime-button",15),e.j41(22,"ion-modal",13),e.DNE(23,m,1,0,"ng-template"),e.k0s()()()()()()(),e.j41(24,"ion-card-content")(25,"table",16)(26,"thead")(27,"tr")(28,"th",17),e.EFF(29,"# Cita"),e.k0s(),e.j41(30,"th",17),e.EFF(31,"Nombre / Raz\xf3n Social"),e.k0s(),e.j41(32,"th",17),e.EFF(33,"Domicilio"),e.k0s(),e.j41(34,"th",17),e.EFF(35,"Tipo de servicio"),e.k0s(),e.j41(36,"th",17),e.EFF(37,"Administraci\xf3n"),e.k0s()()(),e.nrm(38,"tbody"),e.k0s()()()()),2&_&&(e.R7$(),e.Y8G("fullscreen",!0),e.R7$(9),e.Y8G("debounce",250),e.R7$(),e.Y8G("debounce",250),e.R7$(7),e.Y8G("keepContentsMounted",!0),e.R7$(4),e.Y8G("keepContentsMounted",!0))},dependencies:[s.b_,s.I9,s.ME,s.HW,s.tN,s.hU,s.W9,s.A9,s.K4,s.lO,s.ln,s.S1,s.Sb,s.Je,s.Gw,g.Z]}),c})()}];let i=(()=>{var o;class c{}return(o=c).\u0275fac=function(_){return new(_||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[r.iI.forChild(t),r.iI]}),c})(),n=(()=>{var o;class c{}return(o=c).\u0275fac=function(_){return new(_||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.MD,l.YN,s.bv,i,g.Z]}),c})()},6761:(C,h,a)=>{a.d(h,{u:()=>g});var u=a(467),l=a(6335),s=a(6114),r=a(9967),e=a(3953);let g=(()=>{var d;class m{constructor(t,i){this.auth=t,this.firestore=i}register({usuario:t,email:i,password:n,role:o}){var c=this;return(0,u.A)(function*(){try{const f=yield(0,l.eJ)(c.auth,i,n),M=(0,r.H9)(c.firestore,`users/${f.user.uid}`);return yield(0,r.BN)(M,{usuario:t,email:i,role:o}),f}catch{return null}})()}login({email:t,password:i}){var n=this;return(0,u.A)(function*(){try{return yield(0,l.x9)(n.auth,t,i)}catch{return null}})()}getUsers(){const t=(0,r.rJ)(this.firestore,"users");return(0,r.xs)(t,{idField:"id"})}getUser(){var t=this;return(0,u.A)(function*(){const i=yield t.auth.currentUser,n=(0,r.H9)(t.firestore,`users/${i.uid}`);return(0,r.Bg)(n,{idField:"id"})})()}getUserRole(){var t=this;return(0,u.A)(function*(){const i=yield t.auth.currentUser;if(i){const n=(0,r.H9)(t.firestore,`users/${i.uid}`),o=(0,r.Bg)(n,{idField:"id"});return(null==o?void 0:o.role)||"user"}return"guest"})()}logout(){return(0,l.CI)(this.auth)}deleteUser(t){var i=this;return(0,u.A)(function*(){try{const n=i.auth.currentUser;if(n){const o=s.IX.credential(n.email,t);yield(0,l.kZ)(n,o),yield(0,l.hG)(n),console.log("Usuario eliminado con \xe9xito")}else console.error("No hay usuario autenticado")}catch(n){console.error("Error al eliminar el usuario:",n)}})()}updateUser(t){var i=this;return(0,u.A)(function*(){try{const n=i.auth.currentUser;if(n){const o=(0,r.H9)(i.firestore,`users/${t.uid}`);return yield(0,r.BN)(o,t,{merge:!0}),t.email&&""!==t.email&&void 0!==t.email&&(yield(0,l.Ww)(n,t.email)),t.password&&""!=t.password&&void 0!==t.password&&console.log("Se actualizo la contrase\xf1a"),{success:!0}}throw new Error("No hay un usuario autenticado")}catch(n){return console.error("Error al actualizar la informaci\xf3n del usuario:",n),{success:!1,error:n}}})()}}return(d=m).\u0275fac=function(t){return new(t||d)(e.KVO(l.Nj),e.KVO(r._7))},d.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),m})()}}]);