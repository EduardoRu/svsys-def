"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9589],{8505:(p,m,s)=>{s.d(m,{Z:()=>d});var c=s(177),l=s(4341),a=s(305),t=s(7604),e=s(3953),_=s(6761);let d=(()=>{var f;class g{constructor(r,n){this.router=r,this.auth=n}ngOnInit(){}rToControlInformacion(){this.router.navigate(["/control-informacion"],{replaceUrl:!0})}rToAdministracionCuentas(){this.router.navigate(["/administracion-cuentas"],{replaceUrl:!0})}rToReportes(){this.router.navigate(["/reportes"],{replaceUrl:!0})}rToHistoriaReportes(){this.router.navigate(["/historia-reportes"],{replaceUrl:!0})}rToPanelControl(){this.router.navigate(["/panel-control"],{replaceUrl:!0})}rToMiPerfil(){this.router.navigate(["/mi-perfil"],{replaceUrl:!0})}logout(){this.auth.logout(),this.router.navigate(["/login"],{replaceUrl:!0})}}return(f=g).\u0275fac=function(r){return new(r||f)(e.rXU(a.Ix),e.rXU(_.u))},f.\u0275cmp=e.VBU({type:f,selectors:[["app-menu"]],inputs:{titulo:"titulo"},standalone:!0,features:[e.aNF],decls:39,vars:1,consts:[["contentId","main-content"],[2,"--background","#ffffff"],[1,"text-center","pt-5"],["src","/assets/logo_bg1.png","alt","","srcset","",2,"max-width","50%"],[1,"mt-3",2,"color","white"],[2,"background","#ffffff"],["lines","none","slot","header","color","light","button","",3,"click"],["lines","none","slot","header","color","light","button","",1,"pt-1",3,"click"],[2,"background-color","#ffffff"],[1,"d-grid","gap-2"],["type","button","id","cerrar-sesion",1,"btn","btn-danger",3,"click"],["id","main-content"],[2,"--background","#211F20","color","white"],["slot","start"],["autoHide","false"],[2,"text-align","center"],["slot","end"],["size","large",3,"click"],["slot","icon-only","name","person-circle-outline"]],template:function(r,n){1&r&&(e.j41(0,"div")(1,"ion-menu",0)(2,"ion-content",1)(3,"div",2),e.nrm(4,"img",3),e.j41(5,"h5",4)(6,"b"),e.EFF(7,"Administrador"),e.k0s()()(),e.j41(8,"ion-list",5)(9,"ion-item",6),e.bIt("click",function(){return n.rToPanelControl()}),e.j41(10,"ion-label"),e.EFF(11,"Panel de Control"),e.k0s()(),e.j41(12,"ion-item",7),e.bIt("click",function(){return n.rToReportes()}),e.j41(13,"ion-label"),e.EFF(14,"Reportes"),e.k0s()(),e.j41(15,"ion-item",7),e.bIt("click",function(){return n.rToHistoriaReportes()}),e.j41(16,"ion-label"),e.EFF(17,"Historial de Reportes"),e.k0s()(),e.j41(18,"ion-item",7),e.bIt("click",function(){return n.rToControlInformacion()}),e.j41(19,"ion-label"),e.EFF(20,"Control de Informaci\xf3n"),e.k0s()(),e.j41(21,"ion-item",7),e.bIt("click",function(){return n.rToAdministracionCuentas()}),e.j41(22,"ion-label"),e.EFF(23,"Cuentas"),e.k0s()()()(),e.j41(24,"ion-footer",8)(25,"div",9)(26,"button",10),e.bIt("click",function(){return n.logout()}),e.EFF(27,"Cerrar Sesi\xf3n"),e.k0s()()()(),e.j41(28,"ion-header",11)(29,"ion-toolbar",12)(30,"ion-buttons",13),e.nrm(31,"ion-menu-button",14),e.k0s(),e.j41(32,"ion-text",15)(33,"h4")(34,"b"),e.EFF(35),e.k0s()()(),e.j41(36,"ion-buttons",16)(37,"ion-button",17),e.bIt("click",function(){return n.rToMiPerfil()}),e.nrm(38,"ion-icon",18),e.k0s()()()()()),2&r&&(e.R7$(35),e.JRh(n.titulo))},dependencies:[t.bv,t.Jm,t.QW,t.W9,t.M0,t.eU,t.iq,t.uz,t.he,t.nf,t.oS,t.MC,t.IO,t.ai,c.MD,l.YN,l.X1,a.iI],styles:['@charset "UTF-8";ion-menu[_ngcontent-%COMP%]::part(container){--background: #757374}ion-item[_ngcontent-%COMP%]{--background-color: #c0c0c0;--color: #c0c0c0;--border-color: #c0c0c0;--border-width: 2px;--detail-icon-color: white;--detail-icon-opacity: 1;--detail-icon-font-size: 20px}.cerrar-sesion-toolbar[_ngcontent-%COMP%]{--background: #d6282e;transition:background-color .4s ease;cursor:pointer}.cerrar-sesion-toolbar[_ngcontent-%COMP%]:hover{--background: rgba(151, 43, 43, .692)}#cerrar-sesion[_ngcontent-%COMP%]{color:#fff;transition:color .3s ease}']}),g})()},9589:(p,m,s)=>{s.r(m),s.d(m,{MiPerfilPageModule:()=>o});var c=s(177),l=s(4341),a=s(7604),t=s(305),e=s(3953),_=s(8505);const f=[{path:"",component:(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(u){return new(u||r)},r.\u0275cmp=e.VBU({type:r,selectors:[["app-mi-perfil"]],decls:42,vars:1,consts:[["titulo","Mi perfil"],[3,"fullscreen"],[1,"text-center"],["src","/assets/user.png","alt","","srcset","",2,"max-width","200px"],["fixed",""],["size","6"],["size","4"],[1,"pt-3"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","Nueva contrase\xf1a",1,"form-control"],["for","floatingInput"],["size","2"],["type","button",1,"btn","btn-success","btn-lg","mt-1"]],template:function(u,h){1&u&&(e.nrm(0,"app-menu",0),e.j41(1,"ion-content",1)(2,"ion-card")(3,"ion-card-content")(4,"div",2),e.nrm(5,"img",3),e.j41(6,"h1"),e.EFF(7,"Nombre de usuario"),e.k0s()(),e.nrm(8,"hr"),e.j41(9,"div",2)(10,"ion-grid",4)(11,"ion-row")(12,"ion-col",5)(13,"h1"),e.EFF(14,"CORREO EL\xc9CTRONICO"),e.k0s()(),e.j41(15,"ion-col",5)(16,"h1"),e.EFF(17,"admin@svsys.com"),e.k0s()()()(),e.j41(18,"ion-grid",4)(19,"ion-row")(20,"ion-col",5)(21,"h1"),e.EFF(22,"Tipo de trabajador"),e.k0s()(),e.j41(23,"ion-col",5)(24,"h1"),e.EFF(25,"Adminstrador"),e.k0s()()()()(),e.nrm(26,"hr"),e.j41(27,"div")(28,"ion-grid",4)(29,"ion-row")(30,"ion-col",6)(31,"h1",7),e.EFF(32,"Cambio de contrase\xf1a"),e.k0s()(),e.j41(33,"ion-col",5)(34,"div",8),e.nrm(35,"input",9),e.j41(36,"label",10),e.EFF(37,"Nueva contrase\xf1a"),e.k0s()()(),e.j41(38,"ion-col",11)(39,"div",2)(40,"button",12),e.EFF(41,"Cambiar"),e.k0s()()()()()()()()()),2&u&&(e.R7$(),e.Y8G("fullscreen",!0))},dependencies:[a.b_,a.I9,a.hU,a.W9,a.lO,a.ln,_.Z]}),n})()}];let g=(()=>{var r;class n{}return(r=n).\u0275fac=function(u){return new(u||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[t.iI.forChild(f),t.iI]}),n})(),o=(()=>{var r;class n{}return(r=n).\u0275fac=function(u){return new(u||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[c.MD,l.YN,a.bv,g,_.Z]}),n})()},6761:(p,m,s)=>{s.d(m,{u:()=>_});var c=s(467),l=s(6335),a=s(6114),t=s(9967),e=s(3953);let _=(()=>{var d;class f{constructor(o,r){this.auth=o,this.firestore=r}register({usuario:o,email:r,password:n,role:i}){var u=this;return(0,c.A)(function*(){try{const h=yield(0,l.eJ)(u.auth,r,n),P=(0,t.H9)(u.firestore,`users/${h.user.uid}`);return yield(0,t.BN)(P,{usuario:o,email:r,role:i}),h}catch{return null}})()}login({email:o,password:r}){var n=this;return(0,c.A)(function*(){try{return yield(0,l.x9)(n.auth,o,r)}catch{return null}})()}getUsers(){const o=(0,t.rJ)(this.firestore,"users");return(0,t.xs)(o,{idField:"id"})}getUser(){var o=this;return(0,c.A)(function*(){const r=yield o.auth.currentUser,n=(0,t.H9)(o.firestore,`users/${r.uid}`);return(0,t.Bg)(n,{idField:"id"})})()}getUserRole(){var o=this;return(0,c.A)(function*(){const r=yield o.auth.currentUser;if(r){const n=(0,t.H9)(o.firestore,`users/${r.uid}`),i=(0,t.Bg)(n,{idField:"id"});return(null==i?void 0:i.role)||"user"}return"guest"})()}logout(){return(0,l.CI)(this.auth)}deleteUser(o){var r=this;return(0,c.A)(function*(){try{const n=r.auth.currentUser;if(n){const i=a.IX.credential(n.email,o);yield(0,l.kZ)(n,i),yield(0,l.hG)(n),console.log("Usuario eliminado con \xe9xito")}else console.error("No hay usuario autenticado")}catch(n){console.error("Error al eliminar el usuario:",n)}})()}updateUser(o){var r=this;return(0,c.A)(function*(){try{const n=r.auth.currentUser;if(n){const i=(0,t.H9)(r.firestore,`users/${o.uid}`);return yield(0,t.BN)(i,o,{merge:!0}),o.email&&""!==o.email&&void 0!==o.email&&(yield(0,l.Ww)(n,o.email)),o.password&&""!=o.password&&void 0!==o.password&&console.log("Se actualizo la contrase\xf1a"),{success:!0}}throw new Error("No hay un usuario autenticado")}catch(n){return console.error("Error al actualizar la informaci\xf3n del usuario:",n),{success:!1,error:n}}})()}}return(d=f).\u0275fac=function(o){return new(o||d)(e.KVO(l.Nj),e.KVO(t._7))},d.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),f})()}}]);