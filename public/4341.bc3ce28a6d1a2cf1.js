"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4341],{8505:(P,b,d)=>{d.d(b,{Z:()=>C});var _=d(177),n=d(4341),r=d(305),u=d(7604),e=d(3953),o=d(6761);let C=(()=>{var v;class F{constructor(m,l){this.router=m,this.auth=l}ngOnInit(){}rToControlInformacion(){this.router.navigate(["/control-informacion"],{replaceUrl:!0})}rToAdministracionCuentas(){this.router.navigate(["/administracion-cuentas"],{replaceUrl:!0})}rToReportes(){this.router.navigate(["/reportes"],{replaceUrl:!0})}rToHistoriaReportes(){this.router.navigate(["/historia-reportes"],{replaceUrl:!0})}rToPanelControl(){this.router.navigate(["/panel-control"],{replaceUrl:!0})}rToMiPerfil(){this.router.navigate(["/mi-perfil"],{replaceUrl:!0})}logout(){this.auth.logout(),this.router.navigate(["/login"],{replaceUrl:!0})}}return(v=F).\u0275fac=function(m){return new(m||v)(e.rXU(r.Ix),e.rXU(o.u))},v.\u0275cmp=e.VBU({type:v,selectors:[["app-menu"]],inputs:{titulo:"titulo"},standalone:!0,features:[e.aNF],decls:39,vars:1,consts:[["contentId","main-content"],[2,"--background","#ffffff"],[1,"text-center","pt-5"],["src","/assets/logo_bg1.png","alt","","srcset","",2,"max-width","50%"],[1,"mt-3",2,"color","white"],[2,"background","#ffffff"],["lines","none","slot","header","color","light","button","",3,"click"],["lines","none","slot","header","color","light","button","",1,"pt-1",3,"click"],[2,"background-color","#ffffff"],[1,"d-grid","gap-2"],["type","button","id","cerrar-sesion",1,"btn","btn-danger",3,"click"],["id","main-content"],[2,"--background","#211F20","color","white"],["slot","start"],["autoHide","false"],[2,"text-align","center"],["slot","end"],["size","large",3,"click"],["slot","icon-only","name","person-circle-outline"]],template:function(m,l){1&m&&(e.j41(0,"div")(1,"ion-menu",0)(2,"ion-content",1)(3,"div",2),e.nrm(4,"img",3),e.j41(5,"h5",4)(6,"b"),e.EFF(7,"Administrador"),e.k0s()()(),e.j41(8,"ion-list",5)(9,"ion-item",6),e.bIt("click",function(){return l.rToPanelControl()}),e.j41(10,"ion-label"),e.EFF(11,"Panel de Control"),e.k0s()(),e.j41(12,"ion-item",7),e.bIt("click",function(){return l.rToReportes()}),e.j41(13,"ion-label"),e.EFF(14,"Reportes"),e.k0s()(),e.j41(15,"ion-item",7),e.bIt("click",function(){return l.rToHistoriaReportes()}),e.j41(16,"ion-label"),e.EFF(17,"Historial de Reportes"),e.k0s()(),e.j41(18,"ion-item",7),e.bIt("click",function(){return l.rToControlInformacion()}),e.j41(19,"ion-label"),e.EFF(20,"Control de Informaci\xf3n"),e.k0s()(),e.j41(21,"ion-item",7),e.bIt("click",function(){return l.rToAdministracionCuentas()}),e.j41(22,"ion-label"),e.EFF(23,"Cuentas"),e.k0s()()()(),e.j41(24,"ion-footer",8)(25,"div",9)(26,"button",10),e.bIt("click",function(){return l.logout()}),e.EFF(27,"Cerrar Sesi\xf3n"),e.k0s()()()(),e.j41(28,"ion-header",11)(29,"ion-toolbar",12)(30,"ion-buttons",13),e.nrm(31,"ion-menu-button",14),e.k0s(),e.j41(32,"ion-text",15)(33,"h4")(34,"b"),e.EFF(35),e.k0s()()(),e.j41(36,"ion-buttons",16)(37,"ion-button",17),e.bIt("click",function(){return l.rToMiPerfil()}),e.nrm(38,"ion-icon",18),e.k0s()()()()()),2&m&&(e.R7$(35),e.JRh(l.titulo))},dependencies:[u.bv,u.Jm,u.QW,u.W9,u.M0,u.eU,u.iq,u.uz,u.he,u.nf,u.oS,u.MC,u.IO,u.ai,_.MD,n.YN,n.X1,r.iI],styles:['@charset "UTF-8";ion-menu[_ngcontent-%COMP%]::part(container){--background: #757374}ion-item[_ngcontent-%COMP%]{--background-color: #c0c0c0;--color: #c0c0c0;--border-color: #c0c0c0;--border-width: 2px;--detail-icon-color: white;--detail-icon-opacity: 1;--detail-icon-font-size: 20px}.cerrar-sesion-toolbar[_ngcontent-%COMP%]{--background: #d6282e;transition:background-color .4s ease;cursor:pointer}.cerrar-sesion-toolbar[_ngcontent-%COMP%]:hover{--background: rgba(151, 43, 43, .692)}#cerrar-sesion[_ngcontent-%COMP%]{color:#fff;transition:color .3s ease}']}),F})()},6722:(P,b,d)=>{d.r(b),d.d(b,{PanelControlPageModule:()=>M});var _=d(177),n=d(4341),r=d(7604),u=d(305),e=d(467),o=d(3953),C=d(6357),v=d(1626);let F=(()=>{var a;class g{constructor(t){this.http=t,this.jsonFilePtah="assets/res/CPS_min.json"}getData(){return this.http.get(this.jsonFilePtah)}}return(a=g).\u0275fac=function(t){return new(t||a)(o.KVO(v.Qq))},a.\u0275prov=o.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),g})(),c=(()=>{var a;class g{constructor(t,i,s,h,I,T){this.modalController=t,this.fb=i,this.loadingController=s,this.alertConoller=h,this.citasService=I,this.codpos=T}get nombre_razon_social(){return this.citaInformacion.get("nombre_razon_social")}get rfc(){return this.citaInformacion.get("rfc")}get telefono(){return this.citaInformacion.get("telefono")}get fecha(){return this.citaInformacion.get("fecha")}get tipo_servicio(){return this.citaInformacion.get("tipo_servicio")}get domicilio(){return this.citaInformacion.get("domicilio")}get num(){return this.citaInformacion.get("num")}get colonia(){return this.citaInformacion.get("colonia")}get municipio(){return this.citaInformacion.get("municipio")}get estado(){return this.citaInformacion.get("estado")}get cp(){return this.citaInformacion.get("cp")}get giro(){return this.citaInformacion.get("giro")}ngOnInit(){this.getInfromacion(),this.citaInformacion=this.fb.group({nombre_razon_social:["",[n.k0.required]],rfc:["",n.k0.required],telefono:["",[n.k0.required]],fecha:["",[n.k0.required]],tipo_servicio:["",[n.k0.required]],domicilio:["",[n.k0.required]],num:["",[n.k0.required]],colonia:["",[n.k0.required]],municipio:["",[n.k0.required]],estado:["",[n.k0.required]],cp:["",[n.k0.required]],giro:["",[n.k0.required]],creado_en:[""]})}cancel(){this.modalController.dismiss(null,"cancel")}getInfromacion(){var t=this;return(0,e.A)(function*(){t.codpos.getData().subscribe({next:i=>{t.codigosPostales=i},error:i=>{console.error("Error al obtener la informaci\xf3n de c\xf3digos postales",i)}})})()}handleInput(t){const i=t.target.value;if(5===i.length){const s=this.codigosPostales.find(h=>h.d_codigo==i);console.log(s),s&&(this.citaInformacion.get("municipio").setValue(s.D_mnpio),this.citaInformacion.get("estado").setValue(s.d_estado))}}getCita(){var t=this;return(0,e.A)(function*(){const i=yield t.loadingController.create({message:"Generando cita..."});yield i.present();const s=new Date;t.citaInformacion.valid?(t.citaInformacion.get("creado_en").setValue(s.toLocaleString()),t.citasService.addCita(t.citaInformacion.value),yield(yield t.alertConoller.create({header:"Cita generada",message:"La cita ha sido generada exitosamente",buttons:["OK"]})).present(),t.modalController.dismiss(null,"confirm")):yield(yield t.alertConoller.create({header:"Error",message:"Todos los campos son obligatorios",buttons:["OK"]})).present(),yield i.dismiss()})()}}return(a=g).\u0275fac=function(t){return new(t||a)(o.rXU(r.W3),o.rXU(n.ok),o.rXU(r.Xi),o.rXU(r.hG),o.rXU(C.i),o.rXU(F))},a.\u0275cmp=o.VBU({type:a,selectors:[["app-agregar-cita"]],standalone:!0,features:[o.aNF],decls:81,vars:1,consts:[[2,"--background","#757374","color","white"],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],[1,"ion-padding"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-8"],[1,"form-floating","mb-3"],["type","text","id","floatingnombre_razon_social","formControlName","nombre_razon_social",1,"form-control"],["for","floatingnombre_razon_social"],[1,"col-md-4"],["type","text","id","floatingrfc","formControlName","rfc",1,"form-control"],["for","floatingrfc"],["type","text","id","floatingtelefono","formControlName","telefono",1,"form-control"],["for","floatingtelefono"],["type","text","id","floatingInputfecha","formControlName","fecha",1,"form-control"],["for","floatingInputfecha"],["type","text","id","floatingInputtipo_servicio","formControlName","tipo_servicio",1,"form-control"],["for","floatingInputtipo_servicio"],[1,"col-md-6"],["type","number","id","floatingInputcp","formControlName","cp",1,"form-control",3,"input"],["for","floatingInputcp"],["type","text","id","floatingInputgiro","formControlName","giro",1,"form-control"],["for","floatingInputgiro"],[1,"col-md-5"],["type","text","id","floatingInputdomicilio","formControlName","domicilio",1,"form-control"],["for","floatingInputdomicilio"],[1,"col-md-2"],["type","number","id","floatingInputnum","formControlName","num",1,"form-control"],["for","floatingInputnum"],["type","text","id","floatingInputcolonia","formControlName","colonia",1,"form-control"],["for","floatingInputcolonia"],["type","text","id","floatingInputmunicipio","formControlName","municipio",1,"form-control"],["for","floatingInputmunicipio"],["type","text","id","floatingInputestado","formControlName","estado",1,"form-control"],["for","floatingInputestado"],[1,"row","text-center"],[1,"col-md-6","d-grid","gap-2"],[1,"btn","btn-secondary","btn-lg","mt-3"],["type","submit",1,"btn","btn-success","mt-3","btn-lg"]],template:function(t,i){1&t&&(o.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),o.EFF(3," Agrega una nueva cita "),o.k0s(),o.j41(4,"ion-buttons",1)(5,"ion-button",2),o.bIt("click",function(){return i.cancel()}),o.nrm(6,"ion-icon",3),o.k0s()()()(),o.j41(7,"ion-content",4)(8,"form",5),o.bIt("ngSubmit",function(){return i.getCita()}),o.j41(9,"div",6)(10,"div",7)(11,"div",8),o.nrm(12,"input",9),o.j41(13,"label",10),o.EFF(14,"Raz\xf3n Social y/o Nombre"),o.k0s()()(),o.j41(15,"div",11)(16,"div",8),o.nrm(17,"input",12),o.j41(18,"label",13),o.EFF(19,"R.F.C."),o.k0s()()()(),o.j41(20,"div",6)(21,"div",11)(22,"div",8),o.nrm(23,"input",14),o.j41(24,"label",15),o.EFF(25,"Tel\xe9fono"),o.k0s()()(),o.j41(26,"div",11)(27,"div",8),o.nrm(28,"input",16),o.j41(29,"label",17),o.EFF(30,"Fecha"),o.k0s()()(),o.j41(31,"div",11)(32,"div",8),o.nrm(33,"input",18),o.j41(34,"label",19),o.EFF(35,"Tipo de servicio"),o.k0s()()()(),o.j41(36,"div",6)(37,"div",20)(38,"div",8)(39,"input",21),o.bIt("input",function(h){return i.handleInput(h)}),o.k0s(),o.j41(40,"label",22),o.EFF(41,"C\xf3digo postal"),o.k0s()()(),o.j41(42,"div",20)(43,"div",8),o.nrm(44,"input",23),o.j41(45,"label",24),o.EFF(46,"Giro empresarial"),o.k0s()()()(),o.j41(47,"div",6)(48,"div",25)(49,"div",8),o.nrm(50,"input",26),o.j41(51,"label",27),o.EFF(52,"Domicilio"),o.k0s()()(),o.j41(53,"div",28)(54,"div",8),o.nrm(55,"input",29),o.j41(56,"label",30),o.EFF(57,"# Num"),o.k0s()()(),o.j41(58,"div",25)(59,"div",8),o.nrm(60,"input",31),o.j41(61,"label",32),o.EFF(62,"Colonia"),o.k0s()()()(),o.j41(63,"div",6)(64,"div",20)(65,"div",8),o.nrm(66,"input",33),o.j41(67,"label",34),o.EFF(68,"Municipio"),o.k0s()()(),o.j41(69,"div",20)(70,"div",8),o.nrm(71,"input",35),o.j41(72,"label",36),o.EFF(73,"Estado/Edo"),o.k0s()()()(),o.j41(74,"div",37)(75,"div",38)(76,"button",39),o.EFF(77,"Limpiar formulario"),o.k0s()(),o.j41(78,"div",38)(79,"button",40),o.EFF(80,"Agregar cita"),o.k0s()()()()()),2&t&&(o.R7$(8),o.Y8G("formGroup",i.citaInformacion))},dependencies:[r.bv,r.Jm,r.QW,r.W9,r.eU,r.iq,r.BC,r.ai,n.YN,n.qT,n.me,n.Q0,n.BC,n.cb,_.MD,n.X1,n.j4,n.JD]}),g})(),m=(()=>{var a;class g{constructor(t,i,s,h,I){this.fb=t,this.modalController=i,this.loadingController=s,this.alertConoller=h,this.citasService=I}ngOnInit(){this.citaInformacion=this.fb.group({id:[this.cita.id],nombre_razon_social:[this.cita.nombre_razon_social,[n.k0.required]],rfc:[this.cita.rfc,[n.k0.required]],telefono:[this.cita.telefono,[n.k0.required]],fecha:[this.cita.fecha,[n.k0.required]],tipo_servicio:[this.cita.tipo_servicio,[n.k0.required]],domicilio:[this.cita.domicilio,[n.k0.required]],num:[this.cita.num,[n.k0.required]],colonia:[this.cita.colonia,[n.k0.required]],municipio:[this.cita.municipio,[n.k0.required]],estado:[this.cita.estado,[n.k0.required]],cp:[this.cita.cp,[n.k0.required]],giro:[this.cita.giro,[n.k0.required]],creado_en:[this.cita.creado_en,[n.k0.required]]})}cancel(){this.modalController.dismiss(null,"cancel")}editarCita(){var t=this;return(0,e.A)(function*(){const i=yield t.loadingController.create({message:"Actualizando cita..."});yield i.present(),t.citaInformacion.valid?(t.citasService.updateCita(t.citaInformacion.value),yield(yield t.alertConoller.create({header:"Cita actualizada",message:"La cita ha sido actualizado exitosamente",buttons:["OK"]})).present(),t.modalController.dismiss(null,"confirm")):yield(yield t.alertConoller.create({header:"Error",message:"Todos los campos son obligatorios",buttons:["OK"]})).present(),yield i.dismiss()})()}eliminarCita(){var t=this;return(0,e.A)(function*(){var s;(yield t.alertConoller.create({header:"Confirmar eliminaci\xf3n",message:"\xbfEst\xe1 seguro de eliminar la cita?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Aceptar",handler:(s=(0,e.A)(function*(){t.citasService.deleteCita(t.cita.id);const h=yield t.loadingController.create({message:"Eliminando cita..."});h.present(),t.modalController.dismiss(null,"confirm"),yield h.dismiss()}),function(){return s.apply(this,arguments)})}]})).present()})()}}return(a=g).\u0275fac=function(t){return new(t||a)(o.rXU(n.ok),o.rXU(r.W3),o.rXU(r.Xi),o.rXU(r.hG),o.rXU(C.i))},a.\u0275cmp=o.VBU({type:a,selectors:[["app-detalle-cita"]],inputs:{cita:"cita"},standalone:!0,features:[o.aNF],decls:81,vars:2,consts:[[2,"--background","#757374","color","white"],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],[1,"ion-padding"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-8"],[1,"form-floating","mb-3"],["type","text","id","floatingnombre_razon_social","formControlName","nombre_razon_social",1,"form-control"],["for","floatingnombre_razon_social"],[1,"col-md-4"],["type","text","id","floatingrfc","formControlName","rfc",1,"form-control"],["for","floatingrfc"],["type","text","id","floatingtelefono","formControlName","telefono",1,"form-control"],["for","floatingtelefono"],["type","text","id","floatingInputfecha","formControlName","fecha",1,"form-control"],["for","floatingInputfecha"],["type","text","id","floatingInputtipo_servicio","formControlName","tipo_servicio",1,"form-control"],["for","floatingInputtipo_servicio"],[1,"col-md-6"],["type","number","id","floatingInputcp","formControlName","cp",1,"form-control"],["for","floatingInputcp"],["type","text","id","floatingInputgiro","formControlName","giro",1,"form-control"],["for","floatingInputgiro"],[1,"col-md-5"],["type","text","id","floatingInputdomicilio","formControlName","domicilio",1,"form-control"],["for","floatingInputdomicilio"],[1,"col-md-2"],["type","number","id","floatingInputnum","formControlName","num",1,"form-control"],["for","floatingInputnum"],["type","text","id","floatingInputcolonia","formControlName","colonia",1,"form-control"],["for","floatingInputcolonia"],["type","text","id","floatingInputmunicipio","formControlName","municipio",1,"form-control"],["for","floatingInputmunicipio"],["type","text","id","floatingInputestado","formControlName","estado",1,"form-control"],["for","floatingInputestado"],[1,"row","text-center"],[1,"col-md-6","d-grid","gap-2"],["fill","clear",1,"btn","btn-danger","btn-lg","mt-3",3,"click"],["type","submit",1,"btn","btn-success","mt-3","btn-lg"]],template:function(t,i){1&t&&(o.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",1)(5,"ion-button",2),o.bIt("click",function(){return i.cancel()}),o.nrm(6,"ion-icon",3),o.k0s()()()(),o.j41(7,"ion-content",4)(8,"form",5),o.bIt("ngSubmit",function(){return i.editarCita()}),o.j41(9,"div",6)(10,"div",7)(11,"div",8),o.nrm(12,"input",9),o.j41(13,"label",10),o.EFF(14,"Raz\xf3n Social y/o Nombre"),o.k0s()()(),o.j41(15,"div",11)(16,"div",8),o.nrm(17,"input",12),o.j41(18,"label",13),o.EFF(19,"R.F.C."),o.k0s()()()(),o.j41(20,"div",6)(21,"div",11)(22,"div",8),o.nrm(23,"input",14),o.j41(24,"label",15),o.EFF(25,"Tel\xe9fono"),o.k0s()()(),o.j41(26,"div",11)(27,"div",8),o.nrm(28,"input",16),o.j41(29,"label",17),o.EFF(30,"Fecha"),o.k0s()()(),o.j41(31,"div",11)(32,"div",8),o.nrm(33,"input",18),o.j41(34,"label",19),o.EFF(35,"Tipo de servicio"),o.k0s()()()(),o.j41(36,"div",6)(37,"div",20)(38,"div",8),o.nrm(39,"input",21),o.j41(40,"label",22),o.EFF(41,"C\xf3digo postal"),o.k0s()()(),o.j41(42,"div",20)(43,"div",8),o.nrm(44,"input",23),o.j41(45,"label",24),o.EFF(46,"Giro empresarial"),o.k0s()()()(),o.j41(47,"div",6)(48,"div",25)(49,"div",8),o.nrm(50,"input",26),o.j41(51,"label",27),o.EFF(52,"Domicilio"),o.k0s()()(),o.j41(53,"div",28)(54,"div",8),o.nrm(55,"input",29),o.j41(56,"label",30),o.EFF(57,"# Num"),o.k0s()()(),o.j41(58,"div",25)(59,"div",8),o.nrm(60,"input",31),o.j41(61,"label",32),o.EFF(62,"Colonia"),o.k0s()()()(),o.j41(63,"div",6)(64,"div",20)(65,"div",8),o.nrm(66,"input",33),o.j41(67,"label",34),o.EFF(68,"Municipio"),o.k0s()()(),o.j41(69,"div",20)(70,"div",8),o.nrm(71,"input",35),o.j41(72,"label",36),o.EFF(73,"Estado/Edo"),o.k0s()()()(),o.j41(74,"div",37)(75,"div",38)(76,"ion-button",39),o.bIt("click",function(){return i.eliminarCita()}),o.EFF(77,"Eliminar cita"),o.k0s()(),o.j41(78,"div",38)(79,"button",40),o.EFF(80,"EDITAR CITA"),o.k0s()()()()()),2&t&&(o.R7$(3),o.SpI(" Editar cita - ",i.cita.nombre_razon_social," "),o.R7$(5),o.Y8G("formGroup",i.citaInformacion))},dependencies:[r.bv,r.Jm,r.QW,r.W9,r.eU,r.iq,r.BC,r.ai,_.MD,n.YN,n.qT,n.me,n.Q0,n.BC,n.cb,n.X1,n.j4,n.JD]}),g})();var l=d(8505);function p(a,g){if(1&a){const f=o.RV6();o.qex(0),o.j41(1,"th",24),o.EFF(2),o.k0s(),o.j41(3,"td",25),o.EFF(4),o.k0s(),o.j41(5,"td",25),o.EFF(6),o.k0s(),o.j41(7,"td",25),o.EFF(8),o.k0s(),o.j41(9,"td")(10,"ion-button",26),o.bIt("click",function(){o.eBV(f);const i=o.XpG().$implicit,s=o.XpG();return o.Njj(s.mostrarDetalles(i))}),o.EFF(11," Detalles "),o.k0s()(),o.bVm()}if(2&a){const f=o.XpG().$implicit;o.R7$(2),o.JRh(f.nombre_razon_social),o.R7$(2),o.JRh(f.domicilio),o.R7$(2),o.JRh(f.tipo_servicio),o.R7$(2),o.JRh(f.fecha)}}function k(a,g){if(1&a&&(o.j41(0,"tr"),o.DNE(1,p,12,4,"ng-container",23),o.k0s()),2&a){const f=g.index;o.R7$(),o.Y8G("ngIf",f<8)}}const y=[{path:"",component:(()=>{var a;class g{constructor(t,i,s){this.zone=t,this.citasService=i,this.modalController=s}ngOnInit(){this.getInformacion(),this.generarChart()}generarChart(){var t=this;return(0,e.A)(function*(){google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(()=>{t.zone.run(()=>{t.drawChart()})}),new ResizeObserver(()=>{t.zone.run(()=>{t.drawChart()})}).observe(document.getElementById("chart_div"))})()}drawChart(){return(0,e.A)(function*(){var i=yield new google.visualization.DataTable;null==i||i.addColumn("string","Mes"),null==i||i.addColumn("number","Actividad"),null==i||i.addRows([["Mes","Actividad"],["Enero",300],["Febrero",450],["Marzo",600],["Abril",700],["Mayo",550],["Junio",800],["Julio",900],["Agosto",750],["Septiembre",850],["Octubre",950],["Noviembre",700],["Diciembre",850]].slice(1));var s={legend:{position:"bottom"},width:"200%",height:250};new google.visualization.LineChart(document.getElementById("chart_div")).draw(i,s),new google.visualization.PieChart(document.getElementById("chart_div_pie")).draw(i,s)})()}getInformacion(){this.citasService.getCitaProgramada().subscribe(t=>{this.citas=t,this.results=t})}addCita(){var t=this;return(0,e.A)(function*(){(yield t.modalController.create({component:c,cssClass:"modalCitas"})).present()})()}handleInput(t){const i=t.target.value.toLowerCase();this.results=this.citas.filter(s=>s.nombre_razon_social.toLowerCase().indexOf(i)>-1)}mostrarDetalles(t){var i=this;return(0,e.A)(function*(){(yield i.modalController.create({component:m,componentProps:{cita:t},cssClass:"modalCitas"})).present()})()}}return(a=g).\u0275fac=function(t){return new(t||a)(o.rXU(o.SKi),o.rXU(C.i),o.rXU(r.W3))},a.\u0275cmp=o.VBU({type:a,selectors:[["app-panel-control"]],decls:50,vars:3,consts:[["titulo","Panel de control"],[3,"fullscreen"],[2,"padding","1%"],["size","12","size-sm","6"],[2,"background-color","#211F20"],[1,"text-center",2,"color","white"],["placeholder","Buscar cita","type","decimal","showCancelButton","always",3,"ionInput","debounce"],[1,"table-responsive","dispositivos-busqueda"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center",2,"background-color","#211F20"],[2,"color","white"],["size","12"],["id","chart_div_pie"],["id","chart_div"],["slot","fixed","vertical","bottom","horizontal","end","color","primary"],["color","primary"],["name","chevron-up-circle"],["side","top"],["color","primary",3,"click"],["name","add-circle-outline"],[4,"ngIf"],["scope","row",1,"center-elements-table"],[1,"center-elements-table"],["expand","block","color","primary","fill","clear","shape","round",3,"click"]],template:function(t,i){1&t&&(o.nrm(0,"app-menu",0),o.j41(1,"ion-content",1)(2,"ion-grid",2)(3,"ion-row")(4,"ion-col",3)(5,"ion-card")(6,"ion-card-header",4)(7,"ion-card-title",5),o.EFF(8," CITAS PROGRAMADAS "),o.k0s()(),o.j41(9,"ion-card-content")(10,"ion-searchbar",6),o.bIt("ionInput",function(h){return i.handleInput(h)}),o.k0s(),o.j41(11,"div",7)(12,"table",8)(13,"thead")(14,"tr")(15,"th",9),o.EFF(16,"Nombre / Raz\xf3n Social"),o.k0s(),o.j41(17,"th",9),o.EFF(18,"Domicilio"),o.k0s(),o.j41(19,"th",9),o.EFF(20,"Tipo de servicio"),o.k0s(),o.j41(21,"th",9),o.EFF(22,"Fecha"),o.k0s(),o.j41(23,"th",10),o.EFF(24,"Administraci\xf3n"),o.k0s()()(),o.j41(25,"tbody"),o.DNE(26,k,2,1,"tr",11),o.k0s()()()()()(),o.j41(27,"ion-col",3)(28,"ion-card")(29,"ion-card-header",12)(30,"ion-card-title",13),o.EFF(31,"ESTADISTICAS"),o.k0s()(),o.j41(32,"ion-grid")(33,"ion-row")(34,"ion-col",14)(35,"div")(36,"h5"),o.EFF(37,"Clientes frecuentes"),o.k0s()(),o.nrm(38,"div",15),o.k0s(),o.j41(39,"ion-col",14)(40,"div")(41,"h5"),o.EFF(42,"Actividad mensual"),o.k0s()(),o.nrm(43,"div",16),o.k0s()()()()()()(),o.j41(44,"ion-fab",17)(45,"ion-fab-button",18),o.nrm(46,"ion-icon",19),o.k0s(),o.j41(47,"ion-fab-list",20)(48,"ion-fab-button",21),o.bIt("click",function(){return i.addCita()}),o.nrm(49,"ion-icon",22),o.k0s()()()()),2&t&&(o.R7$(),o.Y8G("fullscreen",!0),o.R7$(9),o.Y8G("debounce",250),o.R7$(16),o.Y8G("ngForOf",i.results))},dependencies:[_.Sq,_.bT,r.Jm,r.b_,r.I9,r.ME,r.tN,r.hU,r.W9,r.Q8,r.YW,r.OL,r.lO,r.iq,r.ln,r.S1,r.Gw,l.Z],styles:['@charset "UTF-8";#chart_div[_ngcontent-%COMP%]{width:100%;height:100%}.chart-container[_ngcontent-%COMP%]{height:300px}ion-fab-button[_ngcontent-%COMP%]{--background: #b7f399;--background-activated: #87d361;--background-hover: #a3e681;--border-radius: 15px;--box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, .3), 0px 1px 3px 1px rgba(0, 0, 0, .15);--color: black}.center-elements-table[_ngcontent-%COMP%]{padding-top:3%}ion-content[_ngcontent-%COMP%]::part(background){background:#ebebeb}ion-card[_ngcontent-%COMP%]{border-radius:0}']}),g})()}];let j=(()=>{var a;class g{}return(a=g).\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=o.G2t({imports:[u.iI.forChild(y),u.iI]}),g})(),M=(()=>{var a;class g{}return(a=g).\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=o.G2t({imports:[_.MD,n.YN,r.bv,j,l.Z]}),g})()},6761:(P,b,d)=>{d.d(b,{u:()=>o});var _=d(467),n=d(6335),r=d(6114),u=d(9967),e=d(3953);let o=(()=>{var C;class v{constructor(c,m){this.auth=c,this.firestore=m}register({usuario:c,email:m,password:l,role:p}){var k=this;return(0,_.A)(function*(){try{const E=yield(0,n.eJ)(k.auth,m,l),j=(0,u.H9)(k.firestore,`users/${E.user.uid}`);return yield(0,u.BN)(j,{usuario:c,email:m,role:p}),E}catch{return null}})()}login({email:c,password:m}){var l=this;return(0,_.A)(function*(){try{return yield(0,n.x9)(l.auth,c,m)}catch{return null}})()}getUsers(){const c=(0,u.rJ)(this.firestore,"users");return(0,u.xs)(c,{idField:"id"})}getUser(){var c=this;return(0,_.A)(function*(){const m=yield c.auth.currentUser,l=(0,u.H9)(c.firestore,`users/${m.uid}`);return(0,u.Bg)(l,{idField:"id"})})()}getUserRole(){var c=this;return(0,_.A)(function*(){const m=yield c.auth.currentUser;if(m){const l=(0,u.H9)(c.firestore,`users/${m.uid}`),p=(0,u.Bg)(l,{idField:"id"});return(null==p?void 0:p.role)||"user"}return"guest"})()}logout(){return(0,n.CI)(this.auth)}deleteUser(c){var m=this;return(0,_.A)(function*(){try{const l=m.auth.currentUser;if(l){const p=r.IX.credential(l.email,c);yield(0,n.kZ)(l,p),yield(0,n.hG)(l),console.log("Usuario eliminado con \xe9xito")}else console.error("No hay usuario autenticado")}catch(l){console.error("Error al eliminar el usuario:",l)}})()}updateUser(c){var m=this;return(0,_.A)(function*(){try{const l=m.auth.currentUser;if(l){const p=(0,u.H9)(m.firestore,`users/${c.uid}`);return yield(0,u.BN)(p,c,{merge:!0}),c.email&&""!==c.email&&void 0!==c.email&&(yield(0,n.Ww)(l,c.email)),c.password&&""!=c.password&&void 0!==c.password&&console.log("Se actualizo la contrase\xf1a"),{success:!0}}throw new Error("No hay un usuario autenticado")}catch(l){return console.error("Error al actualizar la informaci\xf3n del usuario:",l),{success:!1,error:l}}})()}}return(C=v).\u0275fac=function(c){return new(c||C)(e.KVO(n.Nj),e.KVO(u._7))},C.\u0275prov=e.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),v})()}}]);