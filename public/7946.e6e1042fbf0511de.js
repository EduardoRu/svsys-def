"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7946],{8505:(I,E,r)=>{r.d(E,{Z:()=>l});var d=r(467),p=r(177),m=r(4341),_=r(305),a=r(7604),e=r(3953),F=r(6761),n=r(5217);let l=(()=>{var u;class o{constructor(t,s,g){this.router=t,this.auth=s,this.storageService=g}ngOnInit(){setTimeout(()=>{this.getUser()},1e3)}getUser(){var t=this;return(0,d.A)(function*(){const s=yield t.storageService.getValue("usuario");t.userRole=s.role})()}rToControlInformacion(){this.router.navigate(["/control-informacion"],{replaceUrl:!0})}rToAdministracionCuentas(){this.router.navigate(["/administracion-cuentas"],{replaceUrl:!0})}rToReportes(){this.router.navigate(["/reportes"],{replaceUrl:!0})}rToHistoriaReportes(){this.router.navigate(["/historia-reportes"],{replaceUrl:!0})}rToPanelControl(){this.router.navigate(["/panel-control"],{replaceUrl:!0})}rToMiPerfil(){this.router.navigate(["/mi-perfil"],{replaceUrl:!0})}rToVehEqui(){this.router.navigate(["/vehi-equi"],{replaceUrl:!0})}rToCertificados(){this.router.navigate(["/certificados"],{replaceUrl:!0})}logout(){this.auth.logout(),this.router.navigate(["/login"],{replaceUrl:!0})}}return(u=o).\u0275fac=function(t){return new(t||u)(e.rXU(_.Ix),e.rXU(F.u),e.rXU(n.n))},u.\u0275cmp=e.VBU({type:u,selectors:[["app-menu"]],inputs:{titulo:"titulo"},standalone:!0,features:[e.aNF],decls:42,vars:1,consts:[["contentId","main-content","mode","ios"],[2,"--background","#ffff"],[1,"text-center","pt-5",2,"background-color","#ffff"],["src","/assets/logo_bg1.png","alt","","srcset","",2,"max-width","50%","background-color","#ffff"],[1,"mt-3",2,"color","white"],[2,"background","#ffff"],["lines","none","slot","header","color","light","button","",3,"click"],["lines","none","slot","header","color","light","button","",1,"pt-1",3,"click"],[2,"background-color","#ffff"],[1,"d-grid","gap-2"],["type","button","id","cerrar-sesion",1,"btn","btn-danger",3,"click"],["id","main-content"],[2,"--background","#211F20","color","white"],["slot","start"],["autoHide","false"],[2,"text-align","center"],["slot","end"],["size","large",3,"click"],["slot","icon-only","name","person-circle-outline"]],template:function(t,s){1&t&&(e.j41(0,"div")(1,"ion-menu",0)(2,"ion-content",1)(3,"div",2),e.nrm(4,"img",3),e.j41(5,"h5",4)(6,"b"),e.EFF(7,"Administrador"),e.k0s()()(),e.j41(8,"ion-list",5)(9,"ion-item",6),e.bIt("click",function(){return s.rToPanelControl()}),e.j41(10,"ion-label"),e.EFF(11," Panel de Control"),e.k0s()(),e.j41(12,"ion-item",7),e.bIt("click",function(){return s.rToReportes()}),e.j41(13,"ion-label"),e.EFF(14,"Reportes"),e.k0s()(),e.j41(15,"ion-item",7),e.bIt("click",function(){return s.rToCertificados()}),e.j41(16,"ion-label"),e.EFF(17,"Certificados"),e.k0s()(),e.j41(18,"ion-item",7),e.bIt("click",function(){return s.rToControlInformacion()}),e.j41(19,"ion-label"),e.EFF(20,"Control de Informaci\xf3n"),e.k0s()(),e.j41(21,"ion-item",7),e.bIt("click",function(){return s.rToVehEqui()}),e.j41(22,"ion-label"),e.EFF(23,"Vehiculos y equipos"),e.k0s()(),e.j41(24,"ion-item",7),e.bIt("click",function(){return s.rToAdministracionCuentas()}),e.j41(25,"ion-label"),e.EFF(26,"Administraci\xf3n de personal"),e.k0s()()()(),e.j41(27,"ion-footer",8)(28,"div",9)(29,"button",10),e.bIt("click",function(){return s.logout()}),e.EFF(30,"Cerrar Sesi\xf3n"),e.k0s()()()(),e.j41(31,"ion-header",11)(32,"ion-toolbar",12)(33,"ion-buttons",13),e.nrm(34,"ion-menu-button",14),e.k0s(),e.j41(35,"ion-text",15)(36,"h4")(37,"b"),e.EFF(38),e.k0s()()(),e.j41(39,"ion-buttons",16)(40,"ion-button",17),e.bIt("click",function(){return s.rToMiPerfil()}),e.nrm(41,"ion-icon",18),e.k0s()()()()()),2&t&&(e.R7$(38),e.JRh(s.titulo))},dependencies:[a.bv,a.Jm,a.QW,a.W9,a.M0,a.eU,a.iq,a.uz,a.he,a.nf,a.oS,a.MC,a.IO,a.ai,p.MD,m.YN,m.X1,_.iI],styles:['@charset "UTF-8";ion-menu[_ngcontent-%COMP%]::part(container){border-radius:0 20px 20px 0;--background: #757374}ion-item[_ngcontent-%COMP%]{--background-color: #c0c0c0;--color: #c0c0c0;--border-color: #c0c0c0;--border-width: 2px;--detail-icon-color: white;--detail-icon-opacity: 1;--detail-icon-font-size: 20px}.cerrar-sesion-toolbar[_ngcontent-%COMP%]{--background: #d6282e;transition:background-color .4s ease;cursor:pointer}.cerrar-sesion-toolbar[_ngcontent-%COMP%]:hover{--background: rgba(151, 43, 43, .692)}#cerrar-sesion[_ngcontent-%COMP%]{color:#fff;transition:color .3s ease}']}),o})()},7946:(I,E,r)=>{r.r(E),r.d(E,{ControlInformacionPageModule:()=>g});var d=r(177),p=r(4341),m=r(7604),_=r(305),a=r(467),e=r(3953),F=r(9207),n=r(8505);function l(i,h){1&i&&e.nrm(0,"ion-datetime",18)}function u(i,h){1&i&&e.nrm(0,"ion-datetime",19)}function o(i,h){if(1&i&&(e.j41(0,"tr")(1,"td",20),e.EFF(2),e.k0s(),e.j41(3,"td",20),e.EFF(4),e.k0s(),e.j41(5,"td",20),e.EFF(6),e.k0s(),e.j41(7,"td",20),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"ion-button",21),e.EFF(11," Detalles "),e.k0s()()()),2&i){const v=h.$implicit;e.R7$(2),e.SpI(" ",v.nombreUsuario," "),e.R7$(2),e.SpI(" ",v.infoCliente.nombre_razon_social," "),e.R7$(2),e.E5c(" ",v.infoCliente.domicilio," ",v.infoCliente.colonia," ",v.infoCliente.num_dom," "),e.R7$(2),e.SpI(" ",v.infoBasculas.tipo_inspeccion," ")}}const t=[{path:"",component:(()=>{var i;class h{constructor(f){this.dictamenService=f,this.reportes=[]}ngOnInit(){this.getInformacion()}getInformacion(){var f=this;return(0,a.A)(function*(){f.dictamenService.getReporte().subscribe({next:C=>{f.reportes=C,console.log(f.reportes)},error:C=>{console.error(C)}})})()}}return(i=h).\u0275fac=function(f){return new(f||i)(e.rXU(F.M))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-control-informacion"]],decls:43,vars:6,consts:[["titulo","Control de informaci\xf3n"],[3,"fullscreen"],[1,"m-4",2,"border-radius","15px"],[2,"background-color","#211F20"],[1,"row"],[1,"col-md-9"],[2,"color","white","text-align","center"],["showCancelButton","always","mode","ios","color","light","cancel-button-text","Borrar","placeholder","BUSCAR INFORMIAC\xd3N POR NOMBRE O RAZ\xd3N SOCIAL",3,"debounce"],["showCancelButton","always","mode","ios","color","light","cancel-button-text","Borrar","placeholder","BUSCAR INFORMACI\xd3N POR EQUIPO",3,"debounce"],[1,"col-md-3"],[1,"row","mt-4"],[1,"col-md-6"],["datetime","datetimeIni"],[3,"keepContentsMounted"],["datetime","datetimeFin"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["presentation","date","id","datetimeIni"],["presentation","date","id","datetimeFin"],[2,"padding-top","1.2%"],["expand","block","fill","clear","shape","round"]],template:function(f,C){1&f&&(e.nrm(0,"app-menu",0),e.j41(1,"ion-content",1)(2,"ion-card",2)(3,"ion-card-header",3)(4,"ion-card-subtitle")(5,"div",4)(6,"div",5)(7,"h5",6),e.EFF(8,"Busqueda por nombre"),e.k0s(),e.nrm(9,"ion-searchbar",7)(10,"ion-searchbar",8),e.k0s(),e.j41(11,"div",9)(12,"h5",6),e.EFF(13,"Rango de fechas"),e.k0s(),e.j41(14,"div",10)(15,"div",11)(16,"h6",6),e.EFF(17,"Fecha Inicio"),e.k0s(),e.nrm(18,"ion-datetime-button",12),e.j41(19,"ion-modal",13),e.DNE(20,l,1,0,"ng-template"),e.k0s()(),e.j41(21,"div",11)(22,"h6",6),e.EFF(23,"Fecha Fin"),e.k0s(),e.nrm(24,"ion-datetime-button",14),e.j41(25,"ion-modal",13),e.DNE(26,u,1,0,"ng-template"),e.k0s()()()()()()(),e.j41(27,"ion-card-content")(28,"table",15)(29,"thead")(30,"tr")(31,"th",16),e.EFF(32,"Inspector"),e.k0s(),e.j41(33,"th",16),e.EFF(34,"Nombre / Raz\xf3n Social"),e.k0s(),e.j41(35,"th",16),e.EFF(36,"Domicilio"),e.k0s(),e.j41(37,"th",16),e.EFF(38,"Tipo de inspecci\xf3n"),e.k0s(),e.j41(39,"th",16),e.EFF(40,"Administraci\xf3n"),e.k0s()()(),e.j41(41,"tbody"),e.DNE(42,o,12,6,"tr",17),e.k0s()()()()()),2&f&&(e.R7$(),e.Y8G("fullscreen",!0),e.R7$(8),e.Y8G("debounce",250),e.R7$(),e.Y8G("debounce",250),e.R7$(9),e.Y8G("keepContentsMounted",!0),e.R7$(6),e.Y8G("keepContentsMounted",!0),e.R7$(17),e.Y8G("ngForOf",C.reportes))},dependencies:[d.Sq,m.Jm,m.b_,m.I9,m.ME,m.HW,m.W9,m.A9,m.K4,m.S1,m.Sb,m.Je,m.Gw,n.Z]}),h})()}];let s=(()=>{var i;class h{}return(i=h).\u0275fac=function(f){return new(f||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[_.iI.forChild(t),_.iI]}),h})(),g=(()=>{var i;class h{}return(i=h).\u0275fac=function(f){return new(f||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[d.MD,p.YN,m.bv,s,n.Z]}),h})()},6761:(I,E,r)=>{r.d(E,{u:()=>F});var d=r(467),p=r(6335),m=r(6114),_=r(9967),a=r(3953),e=r(1626);let F=(()=>{var n;class l{constructor(o,c,t){this.auth=o,this.firestore=c,this.http=t}register({usuario:o,email:c,password:t,role:s,autos:g,herramientas:i,documentos:h,reportes:v}){var f=this;return(0,d.A)(function*(){try{const C=yield(0,p.eJ)(f.auth,c,t),P=(0,_.H9)(f.firestore,`users/${C.user.uid}`);return yield(0,_.BN)(P,{usuario:o,email:c,role:s,autos:g,herramientas:i,documentos:h,reportes:v}),C}catch{return null}})()}login({email:o,password:c}){var t=this;return(0,d.A)(function*(){try{return yield(0,p.x9)(t.auth,o,c)}catch{return null}})()}getUsers(){const o=(0,_.rJ)(this.firestore,"users");return(0,_.xs)(o,{idField:"id"})}getUser(){var o=this;return(0,d.A)(function*(){const c=yield o.auth.currentUser,t=(0,_.H9)(o.firestore,`users/${c.uid}`);return(0,_.Bg)(t,{idField:"id"})})()}getUserRole(){var o=this;return(0,d.A)(function*(){const c=yield o.auth.currentUser;if(c){const t=(0,_.H9)(o.firestore,`users/${c.uid}`),s=(0,_.Bg)(t,{idField:"id"});return(null==s?void 0:s.role)||"user"}return"guest"})()}logout(){return(0,p.CI)(this.auth)}deleteUser(o){var c=this;return(0,d.A)(function*(){try{const t=c.auth.currentUser;if(t){const s=m.IX.credential(t.email,o);yield(0,p.kZ)(t,s),yield(0,p.hG)(t),console.log("Usuario eliminado con \xe9xito")}else console.error("No hay usuario autenticado")}catch(t){console.error("Error al eliminar el usuario:",t)}})()}updateUser(o){var c=this;return(0,d.A)(function*(){try{const t=(0,_.H9)(c.firestore,`users/${o.id}`);return(0,_.mZ)(t,{usuario:o.usuario,email:o.email,role:o.role,autos:o.autos,herramientas:o.herramientas})}catch(t){return console.error("Error al actualizar la informaci\xf3n del usuario:",t),{success:!1,error:t}}})()}updateUserFields(o,c,t){var s=this;return(0,d.A)(function*(){const g=(0,_.H9)(s.firestore,"users",o),i={usuario:c,role:t};try{yield(0,_.mZ)(g,i)}catch(h){console.error("Error al actualizar usuario y role: ",h)}})()}}return(n=l).\u0275fac=function(o){return new(o||n)(a.KVO(p.Nj),a.KVO(_._7),a.KVO(e.Qq))},n.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),l})()},5217:(I,E,r)=>{r.d(E,{n:()=>_});var d=r(467),p=r(3953),m=r(369);let _=(()=>{var a;class e{constructor(n){this.storage=n,this._storage=null,this.init()}init(){var n=this;return(0,d.A)(function*(){const l=yield n.storage.create();n._storage=l})()}addValue(n,l){var u=this;return(0,d.A)(function*(){var o;yield null===(o=u._storage)||void 0===o?void 0:o.set(n,l)})()}getValue(n){var l=this;return(0,d.A)(function*(){var u;return yield null===(u=l._storage)||void 0===u?void 0:u.get(n)})()}updateValue(n,l){var u=this;return(0,d.A)(function*(){var o,c;(yield null===(o=u._storage)||void 0===o?void 0:o.get(n))&&(yield null===(c=u._storage)||void 0===c?void 0:c.set(n,l))})()}removeValue(n){var l=this;return(0,d.A)(function*(){var u;yield null===(u=l._storage)||void 0===u?void 0:u.remove(n)})()}getAllValues(){var n=this;return(0,d.A)(function*(){var l;return yield null===(l=n._storage)||void 0===l?void 0:l.keys()})()}clearTempValues(){var n=this;return(0,d.A)(function*(){var l;yield null===(l=n._storage)||void 0===l?void 0:l.clear()})()}}return(a=e).\u0275fac=function(n){return new(n||a)(p.KVO(m.w))},a.\u0275prov=p.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),e})()}}]);