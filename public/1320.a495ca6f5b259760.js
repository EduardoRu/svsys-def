"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1320],{1889:(m,g,n)=>{n.d(g,{Wi:()=>v,__:()=>l});var l=function(t){return t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE",t}(l||{}),v=function(t){return t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16",t}(v||{})},8505:(m,g,n)=>{n.d(g,{Z:()=>u});var l=n(467),v=n(177),h=n(4341),c=n(305),t=n(7604),e=n(3953),d=n(6761),s=n(5217);let u=(()=>{var o;class r{constructor(i,_,f){this.router=i,this.auth=_,this.storageService=f}ngOnInit(){setTimeout(()=>{this.getUser()},1e3)}getUser(){var i=this;return(0,l.A)(function*(){const _=yield i.storageService.getValue("usuario");i.userRole=_.role})()}rToControlInformacion(){this.router.navigate(["/control-informacion"],{replaceUrl:!0})}rToAdministracionCuentas(){this.router.navigate(["/administracion-cuentas"],{replaceUrl:!0})}rToReportes(){this.router.navigate(["/reportes"],{replaceUrl:!0})}rToHistoriaReportes(){this.router.navigate(["/historia-reportes"],{replaceUrl:!0})}rToPanelControl(){this.router.navigate(["/panel-control"],{replaceUrl:!0})}rToMiPerfil(){this.router.navigate(["/mi-perfil"],{replaceUrl:!0})}rToVehEqui(){this.router.navigate(["/vehi-equi"],{replaceUrl:!0})}rToCertificados(){this.router.navigate(["/certificados"],{replaceUrl:!0})}logout(){this.auth.logout(),this.router.navigate(["/login"],{replaceUrl:!0})}}return(o=r).\u0275fac=function(i){return new(i||o)(e.rXU(c.Ix),e.rXU(d.u),e.rXU(s.n))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-menu"]],inputs:{titulo:"titulo"},standalone:!0,features:[e.aNF],decls:42,vars:1,consts:[["contentId","main-content","mode","ios"],[2,"--background","#ffff"],[1,"text-center","pt-5",2,"background-color","#ffff"],["src","/assets/logo_bg1.png","alt","","srcset","",2,"max-width","50%","background-color","#ffff"],[1,"mt-3",2,"color","white"],[2,"background","#ffff"],["lines","none","slot","header","color","light","button","",3,"click"],["lines","none","slot","header","color","light","button","",1,"pt-1",3,"click"],[2,"background-color","#ffff"],[1,"d-grid","gap-2"],["type","button","id","cerrar-sesion",1,"btn","btn-danger",3,"click"],["id","main-content"],[2,"--background","#211F20","color","white"],["slot","start"],["autoHide","false"],[2,"text-align","center"],["slot","end"],["size","large",3,"click"],["slot","icon-only","name","person-circle-outline"]],template:function(i,_){1&i&&(e.j41(0,"div")(1,"ion-menu",0)(2,"ion-content",1)(3,"div",2),e.nrm(4,"img",3),e.j41(5,"h5",4)(6,"b"),e.EFF(7,"Administrador"),e.k0s()()(),e.j41(8,"ion-list",5)(9,"ion-item",6),e.bIt("click",function(){return _.rToPanelControl()}),e.j41(10,"ion-label"),e.EFF(11," Panel de Control"),e.k0s()(),e.j41(12,"ion-item",7),e.bIt("click",function(){return _.rToReportes()}),e.j41(13,"ion-label"),e.EFF(14,"Reportes"),e.k0s()(),e.j41(15,"ion-item",7),e.bIt("click",function(){return _.rToCertificados()}),e.j41(16,"ion-label"),e.EFF(17,"Certificados"),e.k0s()(),e.j41(18,"ion-item",7),e.bIt("click",function(){return _.rToControlInformacion()}),e.j41(19,"ion-label"),e.EFF(20,"Control de Informaci\xf3n"),e.k0s()(),e.j41(21,"ion-item",7),e.bIt("click",function(){return _.rToVehEqui()}),e.j41(22,"ion-label"),e.EFF(23,"Vehiculos y equipos"),e.k0s()(),e.j41(24,"ion-item",7),e.bIt("click",function(){return _.rToAdministracionCuentas()}),e.j41(25,"ion-label"),e.EFF(26,"Administraci\xf3n de personal"),e.k0s()()()(),e.j41(27,"ion-footer",8)(28,"div",9)(29,"button",10),e.bIt("click",function(){return _.logout()}),e.EFF(30,"Cerrar Sesi\xf3n"),e.k0s()()()(),e.j41(31,"ion-header",11)(32,"ion-toolbar",12)(33,"ion-buttons",13),e.nrm(34,"ion-menu-button",14),e.k0s(),e.j41(35,"ion-text",15)(36,"h4")(37,"b"),e.EFF(38),e.k0s()()(),e.j41(39,"ion-buttons",16)(40,"ion-button",17),e.bIt("click",function(){return _.rToMiPerfil()}),e.nrm(41,"ion-icon",18),e.k0s()()()()()),2&i&&(e.R7$(38),e.JRh(_.titulo))},dependencies:[t.bv,t.Jm,t.QW,t.W9,t.M0,t.eU,t.iq,t.uz,t.he,t.nf,t.oS,t.MC,t.IO,t.ai,v.MD,h.YN,h.X1,c.iI],styles:['@charset "UTF-8";ion-menu[_ngcontent-%COMP%]::part(container){border-radius:0 20px 20px 0;--background: #757374}ion-item[_ngcontent-%COMP%]{--background-color: #c0c0c0;--color: #c0c0c0;--border-color: #c0c0c0;--border-width: 2px;--detail-icon-color: white;--detail-icon-opacity: 1;--detail-icon-font-size: 20px}.cerrar-sesion-toolbar[_ngcontent-%COMP%]{--background: #d6282e;transition:background-color .4s ease;cursor:pointer}.cerrar-sesion-toolbar[_ngcontent-%COMP%]:hover{--background: rgba(151, 43, 43, .692)}#cerrar-sesion[_ngcontent-%COMP%]{color:#fff;transition:color .3s ease}']}),r})()},8123:(m,g,n)=>{n.d(g,{i:()=>e});var l=n(9967),v=n(3273),h=n(3953),c=n(1626),t=n(6335);let e=(()=>{var d;class s{constructor(o,r,a){this.http=o,this.firestore=r,this.auth=a}getInformacion(){return this.http.get("assets/resultado.json")}ingresarInfo(o){return(0,v.gS)((0,l.rJ)(this.firestore,"infoClientes"),o)}organizarInformacion(){return this.http.get("assets/resultado.json")}}return(d=s).\u0275fac=function(o){return new(o||d)(h.KVO(c.Qq),h.KVO(l._7),h.KVO(t.Nj))},d.\u0275prov=h.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),s})()},781:(m,g,n)=>{n.d(g,{F:()=>e});var l=n(467),v=n(7464),h=n(1889);const c=(0,v.F3)("Filesystem",{web:()=>n.e(2937).then(n.bind(n,2937)).then(d=>new d.FilesystemWeb)});var t=n(3953);let e=(()=>{var d;class s{constructor(){}createCarpeta(o){return(0,l.A)(function*(){try{yield c.mkdir({path:o,directory:h.__.Documents,recursive:!1}),console.log("Carpeta creada correctamente")}catch(r){return"Folder already exists"==r.message?r.message:r}})()}saveFile(o,r,a){return(0,l.A)(function*(){try{yield c.writeFile({path:`${o}/${r}`,data:a,directory:h.__.Documents,encoding:h.Wi.UTF8}),console.log(`Archivo ${r} guardado exitosamente en ${o}.`)}catch(i){console.error("Error al guardar el archivo:",i)}})()}readFile(o,r){return(0,l.A)(function*(){try{const a=yield c.readFile({path:`${o}/${r}`,directory:h.__.Documents,encoding:h.Wi.UTF8});return console.log(`Archivo ${r} le\xeddo exitosamente.`),a.data}catch(a){return console.error("Error al leer el archivo:",a),null}})()}listFiles(o){return(0,l.A)(function*(){try{const r=yield c.readdir({path:o,directory:h.__.Documents});return console.log(`Archivos en la carpeta ${o}:`,r.files),r.files}catch(r){return console.error("Error al listar los archivos:",r),[]}})()}deleteFile(o,r){return(0,l.A)(function*(){try{yield c.deleteFile({path:`${o}/${r}`,directory:h.__.Documents}),console.log(`Archivo ${r} eliminado exitosamente.`)}catch(a){console.error("Error al eliminar el archivo:",a)}})()}}return(d=s).\u0275fac=function(o){return new(o||d)},d.\u0275prov=t.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),s})()},6761:(m,g,n)=>{n.d(g,{u:()=>d});var l=n(467),v=n(6335),h=n(6114),c=n(9967),t=n(3953),e=n(1626);let d=(()=>{var s;class u{constructor(r,a,i){this.auth=r,this.firestore=a,this.http=i}register({usuario:r,email:a,password:i,role:_,autos:f,herramientas:E,documentos:p,reportes:y}){var C=this;return(0,l.A)(function*(){try{const M=yield(0,v.eJ)(C.auth,a,i),A=(0,c.H9)(C.firestore,`users/${M.user.uid}`);return yield(0,c.BN)(A,{usuario:r,email:a,role:_,autos:f,herramientas:E,documentos:p,reportes:y}),M}catch{return null}})()}login({email:r,password:a}){var i=this;return(0,l.A)(function*(){try{return yield(0,v.x9)(i.auth,r,a)}catch{return null}})()}getUsers(){const r=(0,c.rJ)(this.firestore,"users");return(0,c.xs)(r,{idField:"id"})}getUser(){var r=this;return(0,l.A)(function*(){const a=yield r.auth.currentUser,i=(0,c.H9)(r.firestore,`users/${a.uid}`);return(0,c.Bg)(i,{idField:"id"})})()}getUserRole(){var r=this;return(0,l.A)(function*(){const a=yield r.auth.currentUser;if(a){const i=(0,c.H9)(r.firestore,`users/${a.uid}`),_=(0,c.Bg)(i,{idField:"id"});return(null==_?void 0:_.role)||"user"}return"guest"})()}logout(){return(0,v.CI)(this.auth)}deleteUser(r){var a=this;return(0,l.A)(function*(){try{const i=a.auth.currentUser;if(i){const _=h.IX.credential(i.email,r);yield(0,v.kZ)(i,_),yield(0,v.hG)(i),console.log("Usuario eliminado con \xe9xito")}else console.error("No hay usuario autenticado")}catch(i){console.error("Error al eliminar el usuario:",i)}})()}updateUser(r){var a=this;return(0,l.A)(function*(){try{const i=(0,c.H9)(a.firestore,`users/${r.id}`);return(0,c.mZ)(i,{usuario:r.usuario,email:r.email,role:r.role,autos:r.autos,herramientas:r.herramientas})}catch(i){return console.error("Error al actualizar la informaci\xf3n del usuario:",i),{success:!1,error:i}}})()}updateUserFields(r,a,i){var _=this;return(0,l.A)(function*(){const f=(0,c.H9)(_.firestore,"users",r),E={usuario:a,role:i};try{yield(0,c.mZ)(f,E)}catch(p){console.error("Error al actualizar usuario y role: ",p)}})()}}return(s=u).\u0275fac=function(r){return new(r||s)(t.KVO(v.Nj),t.KVO(c._7),t.KVO(e.Qq))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),u})()},5217:(m,g,n)=>{n.d(g,{n:()=>c});var l=n(467),v=n(3953),h=n(369);let c=(()=>{var t;class e{constructor(s){this.storage=s,this._storage=null,this.init()}init(){var s=this;return(0,l.A)(function*(){const u=yield s.storage.create();s._storage=u})()}addValue(s,u){var o=this;return(0,l.A)(function*(){var r;yield null===(r=o._storage)||void 0===r?void 0:r.set(s,u)})()}getValue(s){var u=this;return(0,l.A)(function*(){var o;return yield null===(o=u._storage)||void 0===o?void 0:o.get(s)})()}updateValue(s,u){var o=this;return(0,l.A)(function*(){var r,a;(yield null===(r=o._storage)||void 0===r?void 0:r.get(s))&&(yield null===(a=o._storage)||void 0===a?void 0:a.set(s,u))})()}removeValue(s){var u=this;return(0,l.A)(function*(){var o;yield null===(o=u._storage)||void 0===o?void 0:o.remove(s)})()}getAllValues(){var s=this;return(0,l.A)(function*(){var u;return yield null===(u=s._storage)||void 0===u?void 0:u.keys()})()}clearTempValues(){var s=this;return(0,l.A)(function*(){var u;yield null===(u=s._storage)||void 0===u?void 0:u.clear()})()}}return(t=e).\u0275fac=function(s){return new(s||t)(v.KVO(h.w))},t.\u0275prov=v.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),e})()}}]);